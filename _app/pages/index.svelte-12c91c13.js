var Ot=Object.defineProperty,Mt=Object.defineProperties;var jt=Object.getOwnPropertyDescriptors;var Ze=Object.getOwnPropertySymbols;var Ft=Object.prototype.hasOwnProperty,At=Object.prototype.propertyIsEnumerable;var Ke=(s,e,t)=>e in s?Ot(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,ne=(s,e)=>{for(var t in e||(e={}))Ft.call(e,t)&&Ke(s,t,e[t]);if(Ze)for(var t of Ze(e))At.call(e,t)&&Ke(s,t,e[t]);return s},be=(s,e)=>Mt(s,jt(e));import{S as ae,i as oe,s as ce,H as Ge,e as y,k as ee,c as w,a as v,d as u,n as te,b as d,f as j,F as g,I as Qe,J as Xe,K as Ye,x as H,u as K,E as Y,G as $,L as qe,M as Pt,N as Nt,O as Ve,t as B,g as T,P as Ie,Q as Wt,R as Lt,T as zt,U as Bt,V as Tt,W as Ht,X as Rt,Y as Ut,Z as Jt,_ as Zt,$ as Kt,a0 as Gt,a1 as Qt,a2 as $e,a3 as ye,a4 as we,l as ge,h as me,a5 as ve,j as ue,m as fe,o as de,v as he,a6 as xe,a7 as Se,a8 as et,r as Ce,w as Oe,a9 as Xt,aa as tt,ab as Yt,ac as rt,ad as $t,ae as st,af as xt}from"../chunks/vendor-9bd1d4d3.js";import{r as er}from"../chunks/singletons-12a22614.js";const Me="24h",je="production",tr=s=>({}),lt=s=>({}),rr=s=>({}),it=s=>({});function sr(s){let e,t,r,l,i,n;const c=s[1].title,a=Ge(c,s,s[0],it),_=s[1].desc,f=Ge(_,s,s[0],lt);return{c(){e=y("div"),t=y("div"),r=y("h4"),a&&a.c(),l=ee(),i=y("p"),f&&f.c(),this.h()},l(o){e=w(o,"DIV",{class:!0});var p=v(e);t=w(p,"DIV",{class:!0});var b=v(t);r=w(b,"H4",{class:!0});var V=v(r);a&&a.l(V),V.forEach(u),l=te(b),i=w(b,"P",{class:!0});var k=v(i);f&&f.l(k),k.forEach(u),b.forEach(u),p.forEach(u),this.h()},h(){d(r,"class","fr-tile__title"),d(i,"class","rf-tile__desc fr-mt-0 fr-mb-0"),d(t,"class","fr-tile__body"),d(e,"class","fr-tile")},m(o,p){j(o,e,p),g(e,t),g(t,r),a&&a.m(r,null),g(t,l),g(t,i),f&&f.m(i,null),n=!0},p(o,[p]){a&&a.p&&(!n||p&1)&&Qe(a,c,o,o[0],n?Ye(c,o[0],p,rr):Xe(o[0]),it),f&&f.p&&(!n||p&1)&&Qe(f,_,o,o[0],n?Ye(_,o[0],p,tr):Xe(o[0]),lt)},i(o){n||(H(a,o),H(f,o),n=!0)},o(o){K(a,o),K(f,o),n=!1},d(o){o&&u(e),a&&a.d(o),f&&f.d(o)}}}function lr(s,e,t){let{$$slots:r={},$$scope:l}=e;return s.$$set=i=>{"$$scope"in i&&t(0,l=i.$$scope)},[l,r]}class ir extends ae{constructor(e){super();oe(this,e,lr,sr,ce,{})}}function nr(s){let e;return{c(){e=y("canvas"),this.h()},l(t){e=w(t,"CANVAS",{style:!0}),v(e).forEach(u),this.h()},h(){Y(e,"height",s[0]||"250px")},m(t,r){j(t,e,r),s[5](e)},p(t,[r]){r&1&&Y(e,"height",t[0]||"250px")},i:$,o:$,d(t){t&&u(e),s[5](null)}}}function ar(s,e,t){let{type:r="line"}=e,{data:l}=e,{height:i}=e,{options:n={}}=e;qe.register(...Pt),qe.register(Nt),qe.defaults.font.family='"Marianne"';let c,a,_;function f(){_=c.getContext("2d"),a?(a.data=l,a.update()):a=new qe(_,{type:r,data:l,options:n})}function o(p){Ve[p?"unshift":"push"](()=>{c=p,t(1,c)})}return s.$$set=p=>{"type"in p&&t(2,r=p.type),"data"in p&&t(3,l=p.data),"height"in p&&t(0,i=p.height),"options"in p&&t(4,n=p.options)},s.$$.update=()=>{s.$$.dirty&8&&l&&f()},[i,c,r,l,n,o]}class or extends ae{constructor(e){super();oe(this,e,ar,nr,ce,{type:2,data:3,height:0,options:4})}}function nt(s){let e;return{c(){e=B("(pas de requ\xEAte)")},l(t){e=T(t,"(pas de requ\xEAte)")},m(t,r){j(t,e,r)},d(t){t&&u(e)}}}function cr(s){let e,t=s[0]&&s[0].length===0&&nt();return{c(){e=y("div"),t&&t.c(),this.h()},l(r){e=w(r,"DIV",{id:!0,style:!0,class:!0});var l=v(e);t&&t.l(l),l.forEach(u),this.h()},h(){d(e,"id","wordcloud"),Y(e,"height","100%"),Y(e,"max-height",(s[1]||250)+"px"),Y(e,"display","block"),Y(e,"margin","auto"),d(e,"class","svelte-f0olj7"),Ie(e,"inactive",s[2])},m(r,l){j(r,e,l),t&&t.m(e,null)},p(r,[l]){r[0]&&r[0].length===0?t||(t=nt(),t.c(),t.m(e,null)):t&&(t.d(1),t=null),l&2&&Y(e,"max-height",(r[1]||250)+"px"),l&4&&Ie(e,"inactive",r[2])},i:$,o:$,d(r){r&&u(e),t&&t.d()}}}function ur(s,e,t){const r=Wt(),l={schemeCategory10:zt,schemeAccent:Bt,schemeDark2:Tt,schemePaired:Ht,schemePastel1:Rt,schemePastel2:Ut,schemeSet1:Jt,schemeSet2:Zt,schemeSet3:Kt,schemeTableau10:Gt};let{words:i}=e,{viewboxHeight:n=900}=e,{viewboxWidth:c=1600}=e,{height:a=250}=e,{font:_='"Marianne"'}=e,{maxFontSize:f=250}=e,{maxWeight:o=800}=e,{scheme:p="schemeTableau10"}=e,{padding:b=4}=e,V=!1,k="";const D=Lt(l[p]),I=S=>r("click",S),R=S=>r("mouseover",S),J=S=>r("mouseout",S),le=S=>r("mousemove",S);let Q;const re=S=>{$e("#wordcloud").append("svg").attr("viewBox",`0 0 ${c} ${n}`).attr("width","100%").attr("height","100%").classed("svg-content-responsive",!0).append("g").attr("transform","translate("+Q.size()[0]/2+","+Q.size()[1]/2+")").selectAll("text").data(S).enter().append("text").style("font-size",N=>N.size+"px").style("font-weight",N=>N.weight).style("font-family",_).style("fill",(N,E)=>D(E)).attr("text-anchor","middle").attr("transform",N=>"translate("+[N.x,N.y]+")rotate("+N.rotate+")").text(N=>N.text).on("click",I).on("mouseover",R).on("mouseout",J).on("mousemove",le)},x=()=>{if(i.length){t(2,V=!1),Q&&$e("#wordcloud").select("svg").remove(),t(10,k=JSON.stringify(i));const S=i.sort((q,L)=>L.count-q.count),N=S[0].count,E=f*10/S[0].text.length;Q=Qt().size([c,n]).words(S).padding(b).rotate(q=>q.text.length>20?0:~~(Math.random()*2)*90).font(_).fontSize(q=>Math.floor(Math.log(q.count+1)**3/Math.log(N+1)**3*E)).fontWeight(q=>Math.floor(Math.log(q.count+1)**3/Math.log(N+1)**3*o)).on("end",re),Q.start()}else t(10,k=JSON.stringify(i)),t(2,V=!0)};return s.$$set=S=>{"words"in S&&t(0,i=S.words),"viewboxHeight"in S&&t(3,n=S.viewboxHeight),"viewboxWidth"in S&&t(4,c=S.viewboxWidth),"height"in S&&t(1,a=S.height),"font"in S&&t(5,_=S.font),"maxFontSize"in S&&t(6,f=S.maxFontSize),"maxWeight"in S&&t(7,o=S.maxWeight),"scheme"in S&&t(8,p=S.scheme),"padding"in S&&t(9,b=S.padding)},s.$$.update=()=>{s.$$.dirty&1025&&i&&JSON.stringify(i)!==k&&x()},[i,a,V,n,c,_,f,o,p,b,k]}class fr extends ae{constructor(e){super();oe(this,e,ur,cr,ce,{words:0,viewboxHeight:3,viewboxWidth:4,height:1,font:5,maxFontSize:6,maxWeight:7,scheme:8,padding:9})}}function at(s,e,t){const r=s.slice();return r[8]=e[t],r[10]=t,r}function ot(s,e,t){const r=s.slice();return r[11]=e[t],r[13]=t,r}function ct(s){let e,t,r,l,i,n=s[0],c=[];for(let a=0;a<n.length;a+=1)c[a]=dt(at(s,n,a));return{c(){e=ye("svg"),t=ye("text"),r=B(`Disponibilit\xE9
            `);for(let a=0;a<c.length;a+=1)c[a].c();this.h()},l(a){e=we(a,"svg",{height:!0,viewBox:!0});var _=v(e);t=we(_,"text",{x:!0,y:!0,"font-family":!0,"font-weight":!0,"font-size":!0,"text-anchor":!0,fill:!0});var f=v(t);r=T(f,`Disponibilit\xE9
            `),f.forEach(u);for(let o=0;o<c.length;o+=1)c[o].l(_);_.forEach(u),this.h()},h(){d(t,"x","800"),d(t,"y",l=70),d(t,"font-family","'Marianne'"),d(t,"font-weight","800"),d(t,"font-size","45"),d(t,"text-anchor","middle"),d(t,"fill","#6a6a6a"),d(e,"height",s[1]),d(e,"viewBox",i="0 0 "+s[3]+" "+s[2])},m(a,_){j(a,e,_),g(e,t),g(t,r);for(let f=0;f<c.length;f+=1)c[f].m(e,null)},p(a,_){if(_&113){n=a[0];let f;for(f=0;f<n.length;f+=1){const o=at(a,n,f);c[f]?c[f].p(o,_):(c[f]=dt(o),c[f].c(),c[f].m(e,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=n.length}_&2&&d(e,"height",a[1]),_&12&&i!==(i="0 0 "+a[3]+" "+a[2])&&d(e,"viewBox",i)},d(a){a&&u(e),ve(c,a)}}}function dr(s){let e,t=s[11]+"",r,l,i=Math.round((Number.EPSILON+s[0].map(_).reduce(_t,0))/s[0].length*100)/100+"",n,c,a;function _(...f){return s[7](s[11],...f)}return{c(){e=ye("text"),r=B(t),l=B(" ("),n=B(i),c=B(` %)
                        `),this.h()},l(f){e=we(f,"text",{x:!0,y:!0,"font-family":!0,"font-size":!0,fill:!0});var o=v(e);r=T(o,t),l=T(o," ("),n=T(o,i),c=T(o,` %)
                        `),o.forEach(u),this.h()},h(){d(e,"x","0"),d(e,"y",a=s[6]+s[13]*(pe+s[4])),d(e,"font-family","'Marianne'"),d(e,"font-size","45"),d(e,"fill","#6a6a6a")},m(f,o){j(f,e,o),g(e,r),g(e,l),g(e,n),g(e,c)},p(f,o){s=f,o&1&&t!==(t=s[11]+"")&&me(r,t),o&1&&i!==(i=Math.round((Number.EPSILON+s[0].map(_).reduce(_t,0))/s[0].length*100)/100+"")&&me(n,i),o&80&&a!==(a=s[6]+s[13]*(pe+s[4]))&&d(e,"y",a)},d(f){f&&u(e)}}}function ut(s){let e=Math.round(Number.EPSILON+(100-s[8][s[11]])*s[8].dateInterval/(100*1e3*60))+"",t,r;return{c(){t=B(e),r=B(" minutes d'indisponibilit\xE9")},l(l){t=T(l,e),r=T(l," minutes d'indisponibilit\xE9")},m(l,i){j(l,t,i),j(l,r,i)},p(l,i){i&1&&e!==(e=Math.round(Number.EPSILON+(100-l[8][l[11]])*l[8].dateInterval/(100*1e3*60))+"")&&me(t,e)},d(l){l&&u(t),l&&u(r)}}}function ft(s){let e,t,r=new Date(s[8].date).toLocaleDateString("fr-FR",{timeZone:"Europe/Paris",weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minutes:"numeric"})+"",l,i,n=s[8][s[11]]+"",c,a,_,f,o,p,b,V=s[10]===0&&dr(s),k=s[8][s[11]]<100&&ut(s);return{c(){V&&V.c(),e=ye("rect"),t=ye("title"),l=B(r),i=B(` :
`),c=B(n),a=B(`%
`),k&&k.c(),this.h()},l(D){V&&V.l(D),e=we(D,"rect",{width:!0,height:!0,fill:!0,rx:!0,ry:!0,x:!0,y:!0});var I=v(e);t=we(I,"title",{});var R=v(t);l=T(R,r),i=T(R,` :
`),c=T(R,n),a=T(R,`%
`),k&&k.l(R),R.forEach(u),I.forEach(u),this.h()},h(){d(e,"width",_=s[5]*(1-se)),d(e,"height",f=s[4]*(1-se)),d(e,"fill",o=s[8][s[11]]===100?"#000091":"#e1000f"),d(e,"rx","10"),d(e,"ry","10"),d(e,"x",p=s[10]*s[5]+s[5]*se/2),d(e,"y",b=s[6]+s[13]*(pe+s[4])+s[4]*se/2)},m(D,I){V&&V.m(D,I),j(D,e,I),g(e,t),g(t,l),g(t,i),g(t,c),g(t,a),k&&k.m(t,null)},p(D,I){D[10]===0&&V.p(D,I),I&1&&r!==(r=new Date(D[8].date).toLocaleDateString("fr-FR",{timeZone:"Europe/Paris",weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minutes:"numeric"})+"")&&me(l,r),I&1&&n!==(n=D[8][D[11]]+"")&&me(c,n),D[8][D[11]]<100?k?k.p(D,I):(k=ut(D),k.c(),k.m(t,null)):k&&(k.d(1),k=null),I&32&&_!==(_=D[5]*(1-se))&&d(e,"width",_),I&16&&f!==(f=D[4]*(1-se))&&d(e,"height",f),I&1&&o!==(o=D[8][D[11]]===100?"#000091":"#e1000f")&&d(e,"fill",o),I&32&&p!==(p=D[10]*D[5]+D[5]*se/2)&&d(e,"x",p),I&80&&b!==(b=D[6]+D[13]*(pe+D[4])+D[4]*se/2)&&d(e,"y",b)},d(D){V&&V.d(D),D&&u(e),k&&k.d()}}}function dt(s){let e,t=Object.keys(s[8]).filter(ht),r=[];for(let l=0;l<t.length;l+=1)r[l]=ft(ot(s,t,l));return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=ge()},l(l){for(let i=0;i<r.length;i+=1)r[i].l(l);e=ge()},m(l,i){for(let n=0;n<r.length;n+=1)r[n].m(l,i);j(l,e,i)},p(l,i){if(i&113){t=Object.keys(l[8]).filter(ht);let n;for(n=0;n<t.length;n+=1){const c=ot(l,t,n);r[n]?r[n].p(c,i):(r[n]=ft(c),r[n].c(),r[n].m(e.parentNode,e))}for(;n<r.length;n+=1)r[n].d(1);r.length=t.length}},d(l){ve(r,l),l&&u(e)}}}function hr(s){let e,t=s[0]&&s[0].length&&ct(s);return{c(){e=y("div"),t&&t.c(),this.h()},l(r){e=w(r,"DIV",{style:!0});var l=v(e);t&&t.l(l),l.forEach(u),this.h()},h(){Y(e,"height","100%"),Y(e,"width","100%"),Y(e,"max-height",s[1]+"px"),Y(e,"display","flex"),Y(e,"justify-content","center")},m(r,l){j(r,e,l),t&&t.m(e,null)},p(r,[l]){r[0]&&r[0].length?t?t.p(r,l):(t=ct(r),t.c(),t.m(e,null)):t&&(t.d(1),t=null),l&2&&Y(e,"max-height",r[1]+"px")},i:$,o:$,d(r){r&&u(e),t&&t.d()}}}const se=.2,pe=40,ht=s=>!["date","dateInterval"].includes(s),_t=(s,e)=>s+e;function _r(s,e,t){let{data:r}=e,{height:l=250}=e,{viewboxHeight:i=900}=e,{viewboxWidth:n=1600}=e,c=160,a,_;const f=(o,p)=>p[o];return s.$$set=o=>{"data"in o&&t(0,r=o.data),"height"in o&&t(1,l=o.height),"viewboxHeight"in o&&t(2,i=o.viewboxHeight),"viewboxWidth"in o&&t(3,n=o.viewboxWidth)},s.$$.update=()=>{s.$$.dirty&5&&t(4,c=(r&&r.length?Math.min(160,i*.7/(Object.keys(r[0]).length-1)):160)-pe),s.$$.dirty&9&&t(5,a=r&&r.length?n/r.length:90),s.$$.dirty&21&&t(6,_=140+(r&&r.length?(i-(pe+c)*(Object.keys(r[0]).length-1))/2:0))},[r,l,i,n,c,a,_,f]}class gr extends ae{constructor(e){super();oe(this,e,_r,hr,ce,{data:0,height:1,viewboxHeight:2,viewboxWidth:3})}}function gt(s){let e;function t(i,n){return i[1]?vr:mr}let r=t(s),l=r(s);return{c(){l.c(),e=ge()},l(i){l.l(i),e=ge()},m(i,n){l.m(i,n),j(i,e,n)},p(i,n){r!==(r=t(i))&&(l.d(1),l=r(i),l&&(l.c(),l.m(e.parentNode,e)))},d(i){l.d(i),i&&u(e)}}}function mr(s){let e,t,r,l,i;return{c(){e=y("div"),t=y("div"),r=y("div"),l=y("div"),i=y("div"),this.h()},l(n){e=w(n,"DIV",{class:!0});var c=v(e);t=w(c,"DIV",{class:!0}),v(t).forEach(u),r=w(c,"DIV",{class:!0}),v(r).forEach(u),l=w(c,"DIV",{class:!0}),v(l).forEach(u),i=w(c,"DIV",{class:!0}),v(i).forEach(u),c.forEach(u),this.h()},h(){d(t,"class","svelte-a6xc0h"),d(r,"class","svelte-a6xc0h"),d(l,"class","svelte-a6xc0h"),d(i,"class","svelte-a6xc0h"),d(e,"class","lds-ellipsis svelte-a6xc0h")},m(n,c){j(n,e,c),g(e,t),g(e,r),g(e,l),g(e,i)},d(n){n&&u(e)}}}function vr(s){let e,t,r,l,i,n,c,a,_,f,o,p,b,V;return{c(){e=y("div"),t=y("div"),r=y("div"),l=y("div"),i=y("div"),n=y("div"),c=y("div"),a=y("div"),_=y("div"),f=y("div"),o=y("div"),p=y("div"),b=y("div"),V=y("div"),this.h()},l(k){e=w(k,"DIV",{class:!0});var D=v(e);t=w(D,"DIV",{class:!0});var I=v(t);r=w(I,"DIV",{class:!0}),v(r).forEach(u),l=w(I,"DIV",{class:!0}),v(l).forEach(u),i=w(I,"DIV",{class:!0}),v(i).forEach(u),n=w(I,"DIV",{class:!0}),v(n).forEach(u),c=w(I,"DIV",{class:!0}),v(c).forEach(u),a=w(I,"DIV",{class:!0}),v(a).forEach(u),_=w(I,"DIV",{class:!0}),v(_).forEach(u),f=w(I,"DIV",{class:!0}),v(f).forEach(u),o=w(I,"DIV",{class:!0}),v(o).forEach(u),p=w(I,"DIV",{class:!0}),v(p).forEach(u),b=w(I,"DIV",{class:!0}),v(b).forEach(u),V=w(I,"DIV",{class:!0}),v(V).forEach(u),I.forEach(u),D.forEach(u),this.h()},h(){d(r,"class","svelte-a6xc0h"),d(l,"class","svelte-a6xc0h"),d(i,"class","svelte-a6xc0h"),d(n,"class","svelte-a6xc0h"),d(c,"class","svelte-a6xc0h"),d(a,"class","svelte-a6xc0h"),d(_,"class","svelte-a6xc0h"),d(f,"class","svelte-a6xc0h"),d(o,"class","svelte-a6xc0h"),d(p,"class","svelte-a6xc0h"),d(b,"class","svelte-a6xc0h"),d(V,"class","svelte-a6xc0h"),d(t,"class","lds-spinner svelte-a6xc0h"),d(e,"class","load-content svelte-a6xc0h")},m(k,D){j(k,e,D),g(e,t),g(t,r),g(t,l),g(t,i),g(t,n),g(t,c),g(t,a),g(t,_),g(t,f),g(t,o),g(t,p),g(t,b),g(t,V)},d(k){k&&u(e)}}}function pr(s){let e,t=s[0]&&gt(s);return{c(){e=y("div"),t&&t.c(),this.h()},l(r){e=w(r,"DIV",{class:!0});var l=v(e);t&&t.l(l),l.forEach(u),this.h()},h(){d(e,"class","svelte-a6xc0h"),Ie(e,"fulldiv-container",s[0]&&s[1])},m(r,l){j(r,e,l),t&&t.m(e,null)},p(r,[l]){r[0]?t?t.p(r,l):(t=gt(r),t.c(),t.m(e,null)):t&&(t.d(1),t=null),l&3&&Ie(e,"fulldiv-container",r[0]&&r[1])},i:$,o:$,d(r){r&&u(e),t&&t.d()}}}function br(s,e,t){let{show:r=!1}=e,{fulldiv:l=!0}=e;return s.$$set=i=>{"show"in i&&t(0,r=i.show),"fulldiv"in i&&t(1,l=i.fulldiv)},[r,l]}class mt extends ae{constructor(e){super();oe(this,e,br,pr,ce,{show:0,fulldiv:1})}}function vt(s,e,t){const r=s.slice();return r[25]=e[t],r[27]=t,r}function pt(s,e,t){const r=s.slice();return r[25]=e[t],r[27]=t,r}function bt(s,e,t){const r=s.slice();return r[29]=e[t],r}function yt(s,e,t){const r=s.slice();return r[32]=e[t],r}function wt(s){let e,t=s[4][s[32]].label+"",r,l,i;return{c(){e=y("option"),r=B(t),l=ee(),this.h()},l(n){e=w(n,"OPTION",{});var c=v(e);r=T(c,t),l=te(c),c.forEach(u),this.h()},h(){e.__value=i=s[32],e.value=e.__value},m(n,c){j(n,e,c),g(e,r),g(e,l)},p:$,d(n){n&&u(e)}}}function Et(s){let e,t=s[29].slice(0,1).toUpperCase()+s[29].slice(1)+"",r,l,i;return{c(){e=y("option"),r=B(t),l=ee(),this.h()},l(n){e=w(n,"OPTION",{});var c=v(e);r=T(c,t),l=te(c),c.forEach(u),this.h()},h(){e.__value=i=s[29],e.value=e.__value},m(n,c){j(n,e,c),g(e,r),g(e,l)},p:$,d(n){n&&u(e)}}}function yr(s){let e,t;return e=new mt({props:{show:s[3][s[25].query],fulldiv:!1}}),{c(){ue(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,l){de(e,r,l),t=!0},p(r,l){const i={};l[0]&8&&(i.show=r[3][r[25].query]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){K(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function wr(s){let e=(s[25].type==="date"?s[2][s[25].query].data.replace(/(....)-(..)-(..)/,"$3/$2/$1"):s[2][s[25].query].data)+"",t,r,l=s[25].type==="percentage"&&Er();return{c(){t=B(e),l&&l.c(),r=ge()},l(i){t=T(i,e),l&&l.l(i),r=ge()},m(i,n){j(i,t,n),l&&l.m(i,n),j(i,r,n)},p(i,n){n[0]&4&&e!==(e=(i[25].type==="date"?i[2][i[25].query].data.replace(/(....)-(..)-(..)/,"$3/$2/$1"):i[2][i[25].query].data)+"")&&me(t,e)},i:$,o:$,d(i){i&&u(t),l&&l.d(i),i&&u(r)}}}function Er(s){let e;return{c(){e=B("%")},l(t){e=T(t,"%")},m(t,r){j(t,e,r)},d(t){t&&u(e)}}}function kr(s){let e,t,r,l;const i=[wr,yr],n=[];function c(a,_){return a[2][a[25].query]&&!a[3][a[25].query]?0:1}return t=c(s),r=n[t]=i[t](s),{c(){e=y("span"),r.c(),this.h()},l(a){e=w(a,"SPAN",{slot:!0});var _=v(e);r.l(_),_.forEach(u),this.h()},h(){d(e,"slot","title")},m(a,_){j(a,e,_),n[t].m(e,null),l=!0},p(a,_){let f=t;t=c(a),t===f?n[t].p(a,_):(Ce(),K(n[f],1,1,()=>{n[f]=null}),Oe(),r=n[t],r?r.p(a,_):(r=n[t]=i[t](a),r.c()),H(r,1),r.m(e,null))},i(a){l||(H(r),l=!0)},o(a){K(r),l=!1},d(a){a&&u(e),n[t].d()}}}function Dr(s){let e,t=s[7][s[25].query]+"",r;return{c(){e=y("span"),r=B(t),this.h()},l(l){e=w(l,"SPAN",{slot:!0});var i=v(e);r=T(i,t),i.forEach(u),this.h()},h(){d(e,"slot","desc")},m(l,i){j(l,e,i),g(e,r)},p:$,d(l){l&&u(e)}}}function kt(s){let e,t,r,l;return t=new ir({props:{$$slots:{desc:[Dr],title:[kr]},$$scope:{ctx:s}}}),{c(){e=y("div"),ue(t.$$.fragment),r=ee(),this.h()},l(i){e=w(i,"DIV",{class:!0});var n=v(e);fe(t.$$.fragment,n),r=te(n),n.forEach(u),this.h()},h(){d(e,"class","fr-col loader-parent")},m(i,n){j(i,e,n),de(t,e,null),g(e,r),l=!0},p(i,n){const c={};n[0]&12|n[1]&16&&(c.$$scope={dirty:n,ctx:i}),t.$set(c)},i(i){l||(H(t.$$.fragment,i),l=!0)},o(i){K(t.$$.fragment,i),l=!1},d(i){i&&u(e),he(t)}}}function qr(s){let e,t;return e=new gr({props:{data:s[2][s[25].query]&&s[2][s[25].query].data}}),{c(){ue(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,l){de(e,r,l),t=!0},p(r,l){const i={};l[0]&4&&(i.data=r[2][r[25].query]&&r[2][r[25].query].data),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){K(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Ir(s){let e,t;return e=new fr({props:{words:s[2][s[25].query]&&s[9](s[2][s[25].query].data)}}),{c(){ue(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,l){de(e,r,l),t=!0},p(r,l){const i={};l[0]&4&&(i.words=r[2][r[25].query]&&r[9](r[2][r[25].query].data)),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){K(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Sr(s){let e,t;return e=new or({props:{height:s[25].height,type:s[25].type,data:s[2][s[25].query]&&s[8](s[2][s[25].query].data,s[25].query,s[2][s[25].query].type,s[25].type,s[25].fill),options:ne({plugins:{datalabels:{color:"#ffffff"},title:{display:!0,text:s[7][s[25].query]},legend:{display:s[25].legend}}},s[2][s[25].query]&&s[2][s[25].query].type==="time_series"?be(ne({},s[10]),{scales:{x:{type:"time",stacked:!0},y:{stacked:!0,beginAtZero:s[25].type==="bar"}}}):be(ne({},s[10]),{indexAxis:s[25].indexAxis||"x"}))}}),{c(){ue(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,l){de(e,r,l),t=!0},p(r,l){const i={};l[0]&4&&(i.data=r[2][r[25].query]&&r[8](r[2][r[25].query].data,r[25].query,r[2][r[25].query].type,r[25].type,r[25].fill)),l[0]&4&&(i.options=ne({plugins:{datalabels:{color:"#ffffff"},title:{display:!0,text:r[7][r[25].query]},legend:{display:r[25].legend}}},r[2][r[25].query]&&r[2][r[25].query].type==="time_series"?be(ne({},r[10]),{scales:{x:{type:"time",stacked:!0},y:{stacked:!0,beginAtZero:r[25].type==="bar"}}}):be(ne({},r[10]),{indexAxis:r[25].indexAxis||"x"}))),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){K(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Dt(s){let e,t,r,l,i,n,c;t=new mt({props:{show:s[3][s[25].query]&&s[2][s[25].query]}});const a=[Sr,Ir,qr],_=[];function f(o,p){return["bar","line","pie"].includes(o[25].type)?0:o[25].type==="wordCloud"?1:o[25].type==="cells"?2:-1}return~(l=f(s))&&(i=_[l]=a[l](s)),{c(){e=y("div"),ue(t.$$.fragment),r=ee(),i&&i.c(),n=ee(),this.h()},l(o){e=w(o,"DIV",{class:!0});var p=v(e);fe(t.$$.fragment,p),r=te(p),i&&i.l(p),n=te(p),p.forEach(u),this.h()},h(){d(e,"class","fr-col-12 fr-col-md-6 loader-parent")},m(o,p){j(o,e,p),de(t,e,null),g(e,r),~l&&_[l].m(e,null),g(e,n),c=!0},p(o,p){const b={};p[0]&12&&(b.show=o[3][o[25].query]&&o[2][o[25].query]),t.$set(b),i&&i.p(o,p)},i(o){c||(H(t.$$.fragment,o),H(i),c=!0)},o(o){K(t.$$.fragment,o),K(i),c=!1},d(o){o&&u(e),he(t),~l&&_[l].d()}}}function Vr(s){let e,t,r,l,i,n,c,a,_,f,o,p,b,V,k,D,I,R,J,le,Q,re,x,S,N,E,q,L,Z,F,z=Object.keys(s[4]),C=[];for(let m=0;m<z.length;m+=1)C[m]=wt(yt(s,z,m));let U=s[5],O=[];for(let m=0;m<U.length;m+=1)O[m]=Et(bt(s,U,m));let W=s[6].filter(qt),A=[];for(let m=0;m<W.length;m+=1)A[m]=kt(pt(s,W,m));const Vt=m=>K(A[m],1,1,()=>{A[m]=null});let ie=s[6].filter(It),P=[];for(let m=0;m<ie.length;m+=1)P[m]=Dt(vt(s,ie,m));const Ct=m=>K(P[m],1,1,()=>{P[m]=null});return{c(){e=y("div"),t=y("div"),r=y("div"),l=y("div"),i=y("div"),n=y("div"),c=y("div"),a=y("div"),_=y("div"),f=y("label"),o=B("Plage de dates"),p=ee(),b=y("select");for(let m=0;m<C.length;m+=1)C[m].c();V=ee(),k=y("div"),D=y("label"),I=B("Environnement"),R=ee(),J=y("select");for(let m=0;m<O.length;m+=1)O[m].c();le=ee(),Q=y("div"),re=y("div"),x=y("div");for(let m=0;m<A.length;m+=1)A[m].c();S=ee(),N=y("div"),E=y("div"),q=y("div");for(let m=0;m<P.length;m+=1)P[m].c();this.h()},l(m){e=w(m,"DIV",{class:!0});var M=v(e);t=w(M,"DIV",{class:!0});var h=v(t);r=w(h,"DIV",{class:!0});var X=v(r);l=w(X,"DIV",{class:!0});var Fe=v(l);i=w(Fe,"DIV",{class:!0});var _e=v(i);n=w(_e,"DIV",{class:!0});var Ae=v(n);c=w(Ae,"DIV",{class:!0});var Pe=v(c);a=w(Pe,"DIV",{class:!0});var Ee=v(a);_=w(Ee,"DIV",{class:!0});var ke=v(_);f=w(ke,"LABEL",{class:!0,for:!0});var Ne=v(f);o=T(Ne,"Plage de dates"),Ne.forEach(u),p=te(ke),b=w(ke,"SELECT",{id:!0,class:!0});var We=v(b);for(let G=0;G<C.length;G+=1)C[G].l(We);We.forEach(u),ke.forEach(u),V=te(Ee),k=w(Ee,"DIV",{class:!0});var De=v(k);D=w(De,"LABEL",{class:!0,for:!0});var Le=v(D);I=T(Le,"Environnement"),Le.forEach(u),R=te(De),J=w(De,"SELECT",{id:!0,class:!0});var ze=v(J);for(let G=0;G<O.length;G+=1)O[G].l(ze);ze.forEach(u),De.forEach(u),Ee.forEach(u),Pe.forEach(u),Ae.forEach(u),le=te(_e),Q=w(_e,"DIV",{class:!0});var Be=v(Q);re=w(Be,"DIV",{class:!0});var Te=v(re);x=w(Te,"DIV",{class:!0});var He=v(x);for(let G=0;G<A.length;G+=1)A[G].l(He);He.forEach(u),Te.forEach(u),Be.forEach(u),S=te(_e),N=w(_e,"DIV",{class:!0});var Re=v(N);E=w(Re,"DIV",{class:!0});var Ue=v(E);q=w(Ue,"DIV",{class:!0});var Je=v(q);for(let G=0;G<P.length;G+=1)P[G].l(Je);Je.forEach(u),Ue.forEach(u),Re.forEach(u),_e.forEach(u),Fe.forEach(u),X.forEach(u),h.forEach(u),M.forEach(u),this.h()},h(){d(f,"class","fr-label"),d(f,"for","date"),d(b,"id","date"),d(b,"class","fr-select"),s[0]===void 0&&xe(()=>s[11].call(b)),d(_,"class","fr-col-6"),d(D,"class","fr-label"),d(D,"for","env"),d(J,"id","env"),d(J,"class","fr-select"),s[1]===void 0&&xe(()=>s[12].call(J)),d(k,"class","fr-col-6"),d(a,"class","fr-grid-row fr-grid-row--gutters"),d(c,"class","fr-container fr-container--fluid"),d(n,"class","fr-col-12"),d(x,"class","fr-grid-row fr-grid-row--gutters fr-grid-row--center"),d(re,"class","fr-container fr-container--fluid"),d(Q,"class","fr-col-12"),d(q,"class","fr-grid-row fr-grid-row--gutters fr-grid-row--center"),d(E,"class","fr-container fr-container--fluid"),d(N,"class","fr-col-12"),d(i,"class","fr-grid-row fr-grid-row--gutters fr-grid-row--center"),d(l,"class","fr-container fr-container--fluid"),d(r,"class","fr-col-12"),d(t,"class","fr-grid-row fr-grid-row--gutters"),d(e,"class","fr-container fr-container--fluid")},m(m,M){j(m,e,M),g(e,t),g(t,r),g(r,l),g(l,i),g(i,n),g(n,c),g(c,a),g(a,_),g(_,f),g(f,o),g(_,p),g(_,b);for(let h=0;h<C.length;h+=1)C[h].m(b,null);Se(b,s[0]),g(a,V),g(a,k),g(k,D),g(D,I),g(k,R),g(k,J);for(let h=0;h<O.length;h+=1)O[h].m(J,null);Se(J,s[1]),g(i,le),g(i,Q),g(Q,re),g(re,x);for(let h=0;h<A.length;h+=1)A[h].m(x,null);g(i,S),g(i,N),g(N,E),g(E,q);for(let h=0;h<P.length;h+=1)P[h].m(q,null);L=!0,Z||(F=[et(b,"change",s[11]),et(J,"change",s[12])],Z=!0)},p(m,M){if(M[0]&16){z=Object.keys(m[4]);let h;for(h=0;h<z.length;h+=1){const X=yt(m,z,h);C[h]?C[h].p(X,M):(C[h]=wt(X),C[h].c(),C[h].m(b,null))}for(;h<C.length;h+=1)C[h].d(1);C.length=z.length}if(M[0]&17&&Se(b,m[0]),M[0]&32){U=m[5];let h;for(h=0;h<U.length;h+=1){const X=bt(m,U,h);O[h]?O[h].p(X,M):(O[h]=Et(X),O[h].c(),O[h].m(J,null))}for(;h<O.length;h+=1)O[h].d(1);O.length=U.length}if(M[0]&34&&Se(J,m[1]),M[0]&204){W=m[6].filter(qt);let h;for(h=0;h<W.length;h+=1){const X=pt(m,W,h);A[h]?(A[h].p(X,M),H(A[h],1)):(A[h]=kt(X),A[h].c(),H(A[h],1),A[h].m(x,null))}for(Ce(),h=W.length;h<A.length;h+=1)Vt(h);Oe()}if(M[0]&1996){ie=m[6].filter(It);let h;for(h=0;h<ie.length;h+=1){const X=vt(m,ie,h);P[h]?(P[h].p(X,M),H(P[h],1)):(P[h]=Dt(X),P[h].c(),H(P[h],1),P[h].m(q,null))}for(Ce(),h=ie.length;h<P.length;h+=1)Ct(h);Oe()}},i(m){if(!L){for(let M=0;M<W.length;M+=1)H(A[M]);for(let M=0;M<ie.length;M+=1)H(P[M]);L=!0}},o(m){A=A.filter(Boolean);for(let M=0;M<A.length;M+=1)K(A[M]);P=P.filter(Boolean);for(let M=0;M<P.length;M+=1)K(P[M]);L=!1},d(m){m&&u(e),ve(C,m),ve(O,m),ve(A,m),ve(P,m),Z=!1,Xt(F)}}}let Cr=50;const qt=s=>["number","percentage","date"].includes(s.type),It=s=>!["number","percentage","date"].includes(s.type);function Or(s,e,t){let{since:r=Me}=e,{env:l=je}=e;const i={"24h":{label:"Dernier jour",start:"now-1d",end:"now",step:"1h"},"1h":{label:"Derni\xE8re heure",start:"now-1h",end:"now",step:"1m"},"7j":{label:"Derni\xE8re semaine",start:"now-7d",end:"now",step:"4h"},"30j":{label:"Dernier mois",start:"now-30d",end:"now",step:"1d"},j0:{label:"Depuis le d\xE9but",start:"2021-10-01",end:"now",step:"1d"}},n=["production","secours","recette"],c={production:{"Piste production":"api-piste-gouv-fr","Scaleway production":"search-judilibre-io","Scaleway primaire":"search-prod-par2-judilibre-io","Scaleway secondaire":"search-prod-par1-judilibre-io"},recette:{"Piste sandbox":"sandbox-api-piste-gouv-fr","Scaleway recette":"search-dev-judilibre-io"}};c.secours=c.production;const a=[{query:"total_docs",type:"number"},{query:"last_decision_date",type:"date"},{query:"api_requests_number",type:"number"},{query:"decision_uniq_number",type:"number"},{query:"uptime",type:"percentage"},{query:"api_requests_date_histogram",type:"line",legend:!0},{query:"top_words",type:"wordCloud",height:"400px",col:12,legend:!1},{query:"requests_ip_source",type:"pie",legend:!0},{query:"piste",type:"bar",legend:!1},{query:"uptime_details",type:"cells"},{query:"errors_histogram",type:"bar",indexAxis:"y",legend:!1},{query:"latencty_date_histogram",type:"line",fill:!0,legend:!0},{query:"bandwidth_date_histogram",type:"line",legend:!1},{query:"cpu_date_histogram",type:"line",fill:!0,legend:!0},{query:"mem_date_histogram",type:"line",fill:!0,legend:!0}],_={total_docs:"D\xE9cisions index\xE9es",last_decision_date:"Date de la derni\xE8re d\xE9cision",api_requests_number:"Appels API",api_requests_date_histogram:"Requ\xEAtes",decision_uniq_number:"D\xE9cisions consult\xE9es",errors_histogram:"Erreurs http",requests_ip_source:"Canal d'appel",piste:"Utilisateurs Piste",latencty_date_histogram:"Latence",cpu_date_histogram:"CPU %",mem_date_histogram:"M\xE9moire",bandwidth_date_histogram:"R\xE9seau (octets)",top_words:"Recherches",pods_number:"Conteneurs",uptime:"Disponibilit\xE9"};let f={},o={};const p={d:1e3*24*60*60,h:1e3*3600,m:1e3*24*60*60*30,w:1e3*24*60*60*7,y:1e3*24*60*60*365,M:1e3*24*60},b=()=>{let E=[],q=V(i[r].start);const L=V(i[r].end),Z=k(i[r].step);for(;q<L;){let F=new Date(q.getTime()+Z);E.push({dateFrom:q,dateTo:F}),q=F}return E},V=E=>{const q=E.match(/^now(-(\d+)(m|h|d|y|w|M))?$/);if(q){if(E==="now")return new Date(Date.now());{const L=q[2],Z=p[q[3]];return new Date(Date.now()-L*Z)}}else return new Date(E)},k=E=>{const q=E.match(/^(\d+)(m|h|d|y|w|M)$/);if(q){const L=q[1],Z=p[q[2]];return L*Z}else return 60*1e3},D=()=>{a.filter(E=>E.query!=="uptime_details").forEach(async E=>{if(t(3,o[E.query]=!0,o),E.query!=="uptime"){const q=await fetch(`https://monitor.judilibre.io/stats?query=${E.query}&date_start=${i[r].start}&date_end=${i[r].end}&date_interval=${i[r].step}&env=${l}&size=${Cr}`);if(q.ok){const L=await q.json();t(2,f[E.query]=await L[E.query],f),t(3,o[E.query]=!1,o)}}else{const q=c[l],L={};await Promise.all(Object.keys(q).map(async(F,z)=>{const C=await fetch(`https://api.github.com/repos/Cour-de-cassation/judilibre-uptime/issues?state=closed&filter=all&sort=created&direction=desc&labels=status%2C${q[F]}-healthcheck`);C.ok&&(L[F]=await C.json())}));const Z=k(i[r].step);t(3,o.uptime_details=!0,o),t(2,f.uptime_details={type:"time_series",data:b().map(F=>{const z={date:F.dateFrom.toISOString(),dateInterval:Z};return Object.keys(q).forEach(C=>{z[C]=Math.round((Number.EPSILON+1-1/Z*L[C].map(U=>{const O=new Date(U.created_at),W=U.closed_at&&new Date(U.closed_at)||new Date(Date.now());return F.dateTo<O||F.dateFrom>W?0:(F.dateTo>W?W:F.dateTo).getTime()-(F.dateFrom>O?F.dateFrom:O).getTime()}).reduce((U,O)=>U+O,0))*1e4)/100}),z})},f),t(2,f.uptime={type:"number",data:Math.round(100*(Number.EPSILON+f.uptime_details.data.map(F=>F[Object.keys(c[l])[0]]).reduce((F,z)=>F+z,0)/f.uptime_details.data.length))/100},f),t(3,o[E.query]=!1,o),t(3,o.uptime_details=!1,o)}})},I=(E,q,L,Z,F)=>{if(L==="time_series"){let z=0,C={};E.forEach(O=>{Object.keys(O).forEach(W=>{W!=="date"&&(C[W]=!0)})}),C=Object.keys(C),C.includes("Mem.total")&&(C=["Mem.used.min","Mem.used.mean","Mem.used.max","Mem.total"]);const U={datasets:C.map(O=>({data:E.map(W=>{if(W[O])return{x:new Date(W.date),y:W[O]}}),label:O,borderColor:x[z++],borderWidth:F||Z==="bar"?0:void 0,fill:F?"origin":void 0,stack:O,backgroundColor:F?`#000091${9-2*z}${9-2*z}`:Z==="bar"?"#000091":void 0}))};return Z==="bar"&&C.forEach(O=>{U.datasets.push({data:E.map(W=>({x:new Date(W.date),y:100-W[O]})),label:`${O} (down)`,borderWidth:0,stack:O,backgroundColor:"#e1000f"})}),U}else{let z=Object.keys(E).sort((C,U)=>E[U]-E[C]);return{datasets:[{data:z.map(C=>E[C]),backgroundColor:x,borderWidth:0,label:_[q]}],labels:z.map(C=>le(C))}}},R=E=>Object.keys(E).filter(q=>q.length>1&&q!=="chien").map(q=>({text:q,count:E[q]})),J={"80.87.226.10":"courdecassation.fr","185.24.185.49":"piste.gouv.fr"},le=E=>J[E]||E,Q={responsive:!0,maintainAspectRatio:!1,animation:{duration:0},interaction:{mode:"index"},hover:{intersect:!1},elements:{point:{radius:0},line:{tension:.15}}},re={"F-blue-soft":"#5770BE","N-orange-dark":"#E18863","E-green-soft":"#00AC8C","L-yellow-dark":"#FDCF41","Q-brown":"#A26859","J-pink-light":"#FFC29E","$blue-france":"#000091","$red-marianne":"#E1000F","A-green-warm":"#958B62","B-green-light":"#91AE4F","C-green-warm":"#169B62","G-blue-dark":"#484D7A","H-pink-soft":"#FF8D7E","I-pink-dark":"#D08A77","K-yellow-medium":"#FFE800","M-orange-medium":"#FF9940","O-orange-soft":"#FF6F4C","P-purple":"#7D4E5B"},x=Object.keys(re).map(E=>re[E]);function S(){r=tt(this),t(0,r),t(4,i)}function N(){l=tt(this),t(1,l),t(5,n)}return s.$$set=E=>{"since"in E&&t(0,r=E.since),"env"in E&&t(1,l=E.env)},s.$$.update=()=>{s.$$.dirty[0]&3&&(r||l)&&D()},[r,l,f,o,i,n,a,_,I,R,Q,S,N]}class Mr extends ae{constructor(e){super();oe(this,e,Or,Vr,ce,{since:0,env:1},null,[-1,-1])}}const jr=er,St=Fr;async function Fr(s,e){return jr.goto(s,e,[])}const Ar=()=>{const s=Yt("__svelte__");return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:s.navigating.subscribe}},session:s.session}},Pr={subscribe(s){return Ar().page.subscribe(s)}};function Nr(s){let e,t,r,l,i,n,c,a,_;function f(b){s[3](b)}function o(b){s[4](b)}let p={};return s[0]!==void 0&&(p.since=s[0]),s[1]!==void 0&&(p.env=s[1]),n=new Mr({props:p}),Ve.push(()=>rt(n,"since",f)),Ve.push(()=>rt(n,"env",o)),{c(){e=ee(),t=y("section"),r=y("div"),l=y("div"),i=y("div"),ue(n.$$.fragment),this.h()},l(b){$t('[data-svelte="svelte-9qr2em"]',document.head).forEach(u),e=te(b),t=w(b,"SECTION",{});var k=v(t);r=w(k,"DIV",{class:!0});var D=v(r);l=w(D,"DIV",{class:!0});var I=v(l);i=w(I,"DIV",{class:!0});var R=v(i);fe(n.$$.fragment,R),R.forEach(u),I.forEach(u),D.forEach(u),k.forEach(u),this.h()},h(){document.title="API Judilibre - statistiques",d(i,"class","fr-col-12 fr-mt-2w"),d(l,"class","fr-grid-row fr-grid-row--gutters fr-grid-row--center"),d(r,"class","fr-container")},m(b,V){j(b,e,V),j(b,t,V),g(t,r),g(r,l),g(l,i),de(n,i,null),_=!0},p(b,[V]){const k={};!c&&V&1&&(c=!0,k.since=b[0],st(()=>c=!1)),!a&&V&2&&(a=!0,k.env=b[1],st(()=>a=!1)),n.$set(k)},i(b){_||(H(n.$$.fragment,b),_=!0)},o(b){K(n.$$.fragment,b),_=!1},d(b){b&&u(e),b&&u(t),he(n)}}}const Tr=!1;async function Hr({page:s}){const e={};return e.since=s.query.get("since")||Me,e.env=s.query.get("env")||je,{props:e}}function Wr(s,e,t){let r;xt(s,Pr,a=>t(2,r=a));let{since:l}=e,{env:i}=e;function n(a){l=a,t(0,l)}function c(a){i=a,t(1,i)}return s.$$set=a=>{"since"in a&&t(0,l=a.since),"env"in a&&t(1,i=a.env)},s.$$.update=()=>{s.$$.dirty&5&&l&&(l!==Me?r.query.set("since",l):r.query.delete("since"),St(r.query.toString()?`${r.path}?${r.query.toString()}`:`${r.path}`)),s.$$.dirty&6&&i&&(i!==je?r.query.set("env",i):r.query.delete("env"),St(r.query.toString()?`${r.path}?${r.query.toString()}`:`${r.path}`))},[l,i,r,n,c]}class Rr extends ae{constructor(e){super();oe(this,e,Wr,Nr,ce,{since:0,env:1})}}export{Rr as default,Hr as load,Tr as prerender};

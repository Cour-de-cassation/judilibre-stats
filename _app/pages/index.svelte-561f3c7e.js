var Ot=Object.defineProperty,Mt=Object.defineProperties;var jt=Object.getOwnPropertyDescriptors;var Ze=Object.getOwnPropertySymbols;var Ft=Object.prototype.hasOwnProperty,At=Object.prototype.propertyIsEnumerable;var Ke=(s,e,t)=>e in s?Ot(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,ne=(s,e)=>{for(var t in e||(e={}))Ft.call(e,t)&&Ke(s,t,e[t]);if(Ze)for(var t of Ze(e))At.call(e,t)&&Ke(s,t,e[t]);return s},be=(s,e)=>Mt(s,jt(e));import{S as ae,i as oe,s as ce,H as Ge,e as y,k as ee,c as w,a as v,d as u,n as te,b as d,f as j,F as g,I as Qe,J as Xe,K as Ye,x as R,u as K,E as Y,G as $,L as qe,M as Pt,N as Nt,O as Ve,t as T,g as H,P as Ie,Q as Wt,R as Lt,T as zt,U as Bt,V as Tt,W as Ht,X as Rt,Y as Ut,Z as Jt,_ as Zt,$ as Kt,a0 as Gt,a1 as Qt,a2 as $e,a3 as ye,a4 as we,l as ge,h as me,a5 as ve,j as ue,m as fe,o as de,v as he,a6 as xe,a7 as Se,a8 as et,r as Ce,w as Oe,a9 as Xt,aa as tt,ab as Yt,ac as lt,ad as $t,ae as st,af as xt}from"../chunks/vendor-4fd7c079.js";import{r as el}from"../chunks/singletons-12a22614.js";const Me="24h",je="production",tl=s=>({}),rt=s=>({}),ll=s=>({}),it=s=>({});function sl(s){let e,t,l,r,i,n;const c=s[1].title,a=Ge(c,s,s[0],it),_=s[1].desc,f=Ge(_,s,s[0],rt);return{c(){e=y("div"),t=y("div"),l=y("h4"),a&&a.c(),r=ee(),i=y("p"),f&&f.c(),this.h()},l(o){e=w(o,"DIV",{class:!0});var p=v(e);t=w(p,"DIV",{class:!0});var b=v(t);l=w(b,"H4",{class:!0});var V=v(l);a&&a.l(V),V.forEach(u),r=te(b),i=w(b,"P",{class:!0});var k=v(i);f&&f.l(k),k.forEach(u),b.forEach(u),p.forEach(u),this.h()},h(){d(l,"class","fr-tile__title"),d(i,"class","rf-tile__desc fr-mt-0 fr-mb-0"),d(t,"class","fr-tile__body"),d(e,"class","fr-tile")},m(o,p){j(o,e,p),g(e,t),g(t,l),a&&a.m(l,null),g(t,r),g(t,i),f&&f.m(i,null),n=!0},p(o,[p]){a&&a.p&&(!n||p&1)&&Qe(a,c,o,o[0],n?Ye(c,o[0],p,ll):Xe(o[0]),it),f&&f.p&&(!n||p&1)&&Qe(f,_,o,o[0],n?Ye(_,o[0],p,tl):Xe(o[0]),rt)},i(o){n||(R(a,o),R(f,o),n=!0)},o(o){K(a,o),K(f,o),n=!1},d(o){o&&u(e),a&&a.d(o),f&&f.d(o)}}}function rl(s,e,t){let{$$slots:l={},$$scope:r}=e;return s.$$set=i=>{"$$scope"in i&&t(0,r=i.$$scope)},[r,l]}class il extends ae{constructor(e){super();oe(this,e,rl,sl,ce,{})}}function nl(s){let e;return{c(){e=y("canvas"),this.h()},l(t){e=w(t,"CANVAS",{style:!0}),v(e).forEach(u),this.h()},h(){Y(e,"height",s[0]||"250px")},m(t,l){j(t,e,l),s[5](e)},p(t,[l]){l&1&&Y(e,"height",t[0]||"250px")},i:$,o:$,d(t){t&&u(e),s[5](null)}}}function al(s,e,t){let{type:l="line"}=e,{data:r}=e,{height:i}=e,{options:n={}}=e;qe.register(...Pt),qe.register(Nt),qe.defaults.font.family='"Marianne"';let c,a,_;function f(){_=c.getContext("2d"),a?(a.data=r,a.update()):a=new qe(_,{type:l,data:r,options:n})}function o(p){Ve[p?"unshift":"push"](()=>{c=p,t(1,c)})}return s.$$set=p=>{"type"in p&&t(2,l=p.type),"data"in p&&t(3,r=p.data),"height"in p&&t(0,i=p.height),"options"in p&&t(4,n=p.options)},s.$$.update=()=>{s.$$.dirty&8&&r&&f()},[i,c,l,r,n,o]}class ol extends ae{constructor(e){super();oe(this,e,al,nl,ce,{type:2,data:3,height:0,options:4})}}function nt(s){let e;return{c(){e=T("(pas de requ\xEAte)")},l(t){e=H(t,"(pas de requ\xEAte)")},m(t,l){j(t,e,l)},d(t){t&&u(e)}}}function cl(s){let e,t=s[0]&&s[0].length===0&&nt();return{c(){e=y("div"),t&&t.c(),this.h()},l(l){e=w(l,"DIV",{id:!0,style:!0,class:!0});var r=v(e);t&&t.l(r),r.forEach(u),this.h()},h(){d(e,"id","wordcloud"),Y(e,"height","100%"),Y(e,"max-height",(s[1]||250)+"px"),Y(e,"display","block"),Y(e,"margin","auto"),d(e,"class","svelte-f0olj7"),Ie(e,"inactive",s[2])},m(l,r){j(l,e,r),t&&t.m(e,null)},p(l,[r]){l[0]&&l[0].length===0?t||(t=nt(),t.c(),t.m(e,null)):t&&(t.d(1),t=null),r&2&&Y(e,"max-height",(l[1]||250)+"px"),r&4&&Ie(e,"inactive",l[2])},i:$,o:$,d(l){l&&u(e),t&&t.d()}}}function ul(s,e,t){const l=Wt(),r={schemeCategory10:zt,schemeAccent:Bt,schemeDark2:Tt,schemePaired:Ht,schemePastel1:Rt,schemePastel2:Ut,schemeSet1:Jt,schemeSet2:Zt,schemeSet3:Kt,schemeTableau10:Gt};let{words:i}=e,{viewboxHeight:n=900}=e,{viewboxWidth:c=1600}=e,{height:a=250}=e,{font:_='"Marianne"'}=e,{maxFontSize:f=250}=e,{maxWeight:o=800}=e,{scheme:p="schemeTableau10"}=e,{padding:b=4}=e,V=!1,k="";const D=Lt(r[p]),I=S=>l("click",S),U=S=>l("mouseover",S),J=S=>l("mouseout",S),re=S=>l("mousemove",S);let Q;const le=S=>{$e("#wordcloud").append("svg").attr("viewBox",`0 0 ${c} ${n}`).attr("width","100%").attr("height","100%").classed("svg-content-responsive",!0).append("g").attr("transform","translate("+Q.size()[0]/2+","+Q.size()[1]/2+")").selectAll("text").data(S).enter().append("text").style("font-size",N=>N.size+"px").style("font-weight",N=>N.weight).style("font-family",_).style("fill",(N,E)=>D(E)).attr("text-anchor","middle").attr("transform",N=>"translate("+[N.x,N.y]+")rotate("+N.rotate+")").text(N=>N.text).on("click",I).on("mouseover",U).on("mouseout",J).on("mousemove",re)},x=()=>{if(i.length){t(2,V=!1),Q&&$e("#wordcloud").select("svg").remove(),t(10,k=JSON.stringify(i));const S=i.sort((q,L)=>L.count-q.count),N=S[0].count,E=f*10/S[0].text.length;Q=Qt().size([c,n]).words(S).padding(b).rotate(q=>q.text.length>20?0:~~(Math.random()*2)*90).font(_).fontSize(q=>Math.floor(Math.log(q.count+1)**3/Math.log(N+1)**3*E)).fontWeight(q=>Math.floor(Math.log(q.count+1)**3/Math.log(N+1)**3*o)).on("end",le),Q.start()}else t(10,k=JSON.stringify(i)),t(2,V=!0)};return s.$$set=S=>{"words"in S&&t(0,i=S.words),"viewboxHeight"in S&&t(3,n=S.viewboxHeight),"viewboxWidth"in S&&t(4,c=S.viewboxWidth),"height"in S&&t(1,a=S.height),"font"in S&&t(5,_=S.font),"maxFontSize"in S&&t(6,f=S.maxFontSize),"maxWeight"in S&&t(7,o=S.maxWeight),"scheme"in S&&t(8,p=S.scheme),"padding"in S&&t(9,b=S.padding)},s.$$.update=()=>{s.$$.dirty&1025&&i&&JSON.stringify(i)!==k&&x()},[i,a,V,n,c,_,f,o,p,b,k]}class fl extends ae{constructor(e){super();oe(this,e,ul,cl,ce,{words:0,viewboxHeight:3,viewboxWidth:4,height:1,font:5,maxFontSize:6,maxWeight:7,scheme:8,padding:9})}}function at(s,e,t){const l=s.slice();return l[8]=e[t],l[10]=t,l}function ot(s,e,t){const l=s.slice();return l[11]=e[t],l[13]=t,l}function ct(s){let e,t,l,r,i,n=s[0],c=[];for(let a=0;a<n.length;a+=1)c[a]=dt(at(s,n,a));return{c(){e=ye("svg"),t=ye("text"),l=T(`Disponibilit\xE9
            `);for(let a=0;a<c.length;a+=1)c[a].c();this.h()},l(a){e=we(a,"svg",{height:!0,viewBox:!0});var _=v(e);t=we(_,"text",{x:!0,y:!0,"font-family":!0,"font-weight":!0,"font-size":!0,"text-anchor":!0,fill:!0});var f=v(t);l=H(f,`Disponibilit\xE9
            `),f.forEach(u);for(let o=0;o<c.length;o+=1)c[o].l(_);_.forEach(u),this.h()},h(){d(t,"x","800"),d(t,"y",r=70),d(t,"font-family","'Marianne'"),d(t,"font-weight","800"),d(t,"font-size","45"),d(t,"text-anchor","middle"),d(t,"fill","#6a6a6a"),d(e,"height",s[1]),d(e,"viewBox",i="0 0 "+s[3]+" "+s[2])},m(a,_){j(a,e,_),g(e,t),g(t,l);for(let f=0;f<c.length;f+=1)c[f].m(e,null)},p(a,_){if(_&113){n=a[0];let f;for(f=0;f<n.length;f+=1){const o=at(a,n,f);c[f]?c[f].p(o,_):(c[f]=dt(o),c[f].c(),c[f].m(e,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=n.length}_&2&&d(e,"height",a[1]),_&12&&i!==(i="0 0 "+a[3]+" "+a[2])&&d(e,"viewBox",i)},d(a){a&&u(e),ve(c,a)}}}function dl(s){let e,t=s[11]+"",l,r,i=Math.round((Number.EPSILON+s[0].map(_).reduce(_t,0))/s[0].length*100)/100+"",n,c,a;function _(...f){return s[7](s[11],...f)}return{c(){e=ye("text"),l=T(t),r=T(" ("),n=T(i),c=T(` %)
                        `),this.h()},l(f){e=we(f,"text",{x:!0,y:!0,"font-family":!0,"font-size":!0,fill:!0});var o=v(e);l=H(o,t),r=H(o," ("),n=H(o,i),c=H(o,` %)
                        `),o.forEach(u),this.h()},h(){d(e,"x","0"),d(e,"y",a=s[6]+s[13]*(pe+s[4])),d(e,"font-family","'Marianne'"),d(e,"font-size","45"),d(e,"fill","#6a6a6a")},m(f,o){j(f,e,o),g(e,l),g(e,r),g(e,n),g(e,c)},p(f,o){s=f,o&1&&t!==(t=s[11]+"")&&me(l,t),o&1&&i!==(i=Math.round((Number.EPSILON+s[0].map(_).reduce(_t,0))/s[0].length*100)/100+"")&&me(n,i),o&80&&a!==(a=s[6]+s[13]*(pe+s[4]))&&d(e,"y",a)},d(f){f&&u(e)}}}function ut(s){let e=Math.round(Number.EPSILON+(100-s[8][s[11]])*s[8].dateInterval/(100*1e3*60))+"",t,l;return{c(){t=T(e),l=T(" minutes d'indisponibilit\xE9")},l(r){t=H(r,e),l=H(r," minutes d'indisponibilit\xE9")},m(r,i){j(r,t,i),j(r,l,i)},p(r,i){i&1&&e!==(e=Math.round(Number.EPSILON+(100-r[8][r[11]])*r[8].dateInterval/(100*1e3*60))+"")&&me(t,e)},d(r){r&&u(t),r&&u(l)}}}function ft(s){let e,t,l=new Date(s[8].date).toLocaleDateString("fr-FR",{timeZone:"Europe/Paris",weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minutes:"numeric"})+"",r,i,n=s[8][s[11]]+"",c,a,_,f,o,p,b,V=s[10]===0&&dl(s),k=s[8][s[11]]<100&&ut(s);return{c(){V&&V.c(),e=ye("rect"),t=ye("title"),r=T(l),i=T(` :
`),c=T(n),a=T(`%
`),k&&k.c(),this.h()},l(D){V&&V.l(D),e=we(D,"rect",{width:!0,height:!0,fill:!0,rx:!0,ry:!0,x:!0,y:!0});var I=v(e);t=we(I,"title",{});var U=v(t);r=H(U,l),i=H(U,` :
`),c=H(U,n),a=H(U,`%
`),k&&k.l(U),U.forEach(u),I.forEach(u),this.h()},h(){d(e,"width",_=s[5]*(1-se)),d(e,"height",f=s[4]*(1-se)),d(e,"fill",o=s[8][s[11]]===100?"#000091":"#e1000f"),d(e,"rx","10"),d(e,"ry","10"),d(e,"x",p=s[10]*s[5]+s[5]*se/2),d(e,"y",b=s[6]+s[13]*(pe+s[4])+s[4]*se/2)},m(D,I){V&&V.m(D,I),j(D,e,I),g(e,t),g(t,r),g(t,i),g(t,c),g(t,a),k&&k.m(t,null)},p(D,I){D[10]===0&&V.p(D,I),I&1&&l!==(l=new Date(D[8].date).toLocaleDateString("fr-FR",{timeZone:"Europe/Paris",weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minutes:"numeric"})+"")&&me(r,l),I&1&&n!==(n=D[8][D[11]]+"")&&me(c,n),D[8][D[11]]<100?k?k.p(D,I):(k=ut(D),k.c(),k.m(t,null)):k&&(k.d(1),k=null),I&32&&_!==(_=D[5]*(1-se))&&d(e,"width",_),I&16&&f!==(f=D[4]*(1-se))&&d(e,"height",f),I&1&&o!==(o=D[8][D[11]]===100?"#000091":"#e1000f")&&d(e,"fill",o),I&32&&p!==(p=D[10]*D[5]+D[5]*se/2)&&d(e,"x",p),I&80&&b!==(b=D[6]+D[13]*(pe+D[4])+D[4]*se/2)&&d(e,"y",b)},d(D){V&&V.d(D),D&&u(e),k&&k.d()}}}function dt(s){let e,t=Object.keys(s[8]).filter(ht),l=[];for(let r=0;r<t.length;r+=1)l[r]=ft(ot(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ge()},l(r){for(let i=0;i<l.length;i+=1)l[i].l(r);e=ge()},m(r,i){for(let n=0;n<l.length;n+=1)l[n].m(r,i);j(r,e,i)},p(r,i){if(i&113){t=Object.keys(r[8]).filter(ht);let n;for(n=0;n<t.length;n+=1){const c=ot(r,t,n);l[n]?l[n].p(c,i):(l[n]=ft(c),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(r){ve(l,r),r&&u(e)}}}function hl(s){let e,t=s[0]&&s[0].length&&ct(s);return{c(){e=y("div"),t&&t.c(),this.h()},l(l){e=w(l,"DIV",{style:!0});var r=v(e);t&&t.l(r),r.forEach(u),this.h()},h(){Y(e,"height","100%"),Y(e,"width","100%"),Y(e,"max-height",s[1]+"px"),Y(e,"display","flex"),Y(e,"justify-content","center")},m(l,r){j(l,e,r),t&&t.m(e,null)},p(l,[r]){l[0]&&l[0].length?t?t.p(l,r):(t=ct(l),t.c(),t.m(e,null)):t&&(t.d(1),t=null),r&2&&Y(e,"max-height",l[1]+"px")},i:$,o:$,d(l){l&&u(e),t&&t.d()}}}const se=.2,pe=40,ht=s=>!["date","dateInterval"].includes(s),_t=(s,e)=>s+e;function _l(s,e,t){let{data:l}=e,{height:r=250}=e,{viewboxHeight:i=900}=e,{viewboxWidth:n=1600}=e,c=160,a,_;const f=(o,p)=>p[o];return s.$$set=o=>{"data"in o&&t(0,l=o.data),"height"in o&&t(1,r=o.height),"viewboxHeight"in o&&t(2,i=o.viewboxHeight),"viewboxWidth"in o&&t(3,n=o.viewboxWidth)},s.$$.update=()=>{s.$$.dirty&5&&t(4,c=(l&&l.length?Math.min(160,i*.7/(Object.keys(l[0]).length-1)):160)-pe),s.$$.dirty&9&&t(5,a=l&&l.length?n/l.length:90),s.$$.dirty&21&&t(6,_=140+(l&&l.length?(i-(pe+c)*(Object.keys(l[0]).length-1))/2:0))},[l,r,i,n,c,a,_,f]}class gl extends ae{constructor(e){super();oe(this,e,_l,hl,ce,{data:0,height:1,viewboxHeight:2,viewboxWidth:3})}}function gt(s){let e;function t(i,n){return i[1]?vl:ml}let l=t(s),r=l(s);return{c(){r.c(),e=ge()},l(i){r.l(i),e=ge()},m(i,n){r.m(i,n),j(i,e,n)},p(i,n){l!==(l=t(i))&&(r.d(1),r=l(i),r&&(r.c(),r.m(e.parentNode,e)))},d(i){r.d(i),i&&u(e)}}}function ml(s){let e,t,l,r,i;return{c(){e=y("div"),t=y("div"),l=y("div"),r=y("div"),i=y("div"),this.h()},l(n){e=w(n,"DIV",{class:!0});var c=v(e);t=w(c,"DIV",{class:!0}),v(t).forEach(u),l=w(c,"DIV",{class:!0}),v(l).forEach(u),r=w(c,"DIV",{class:!0}),v(r).forEach(u),i=w(c,"DIV",{class:!0}),v(i).forEach(u),c.forEach(u),this.h()},h(){d(t,"class","svelte-a6xc0h"),d(l,"class","svelte-a6xc0h"),d(r,"class","svelte-a6xc0h"),d(i,"class","svelte-a6xc0h"),d(e,"class","lds-ellipsis svelte-a6xc0h")},m(n,c){j(n,e,c),g(e,t),g(e,l),g(e,r),g(e,i)},d(n){n&&u(e)}}}function vl(s){let e,t,l,r,i,n,c,a,_,f,o,p,b,V;return{c(){e=y("div"),t=y("div"),l=y("div"),r=y("div"),i=y("div"),n=y("div"),c=y("div"),a=y("div"),_=y("div"),f=y("div"),o=y("div"),p=y("div"),b=y("div"),V=y("div"),this.h()},l(k){e=w(k,"DIV",{class:!0});var D=v(e);t=w(D,"DIV",{class:!0});var I=v(t);l=w(I,"DIV",{class:!0}),v(l).forEach(u),r=w(I,"DIV",{class:!0}),v(r).forEach(u),i=w(I,"DIV",{class:!0}),v(i).forEach(u),n=w(I,"DIV",{class:!0}),v(n).forEach(u),c=w(I,"DIV",{class:!0}),v(c).forEach(u),a=w(I,"DIV",{class:!0}),v(a).forEach(u),_=w(I,"DIV",{class:!0}),v(_).forEach(u),f=w(I,"DIV",{class:!0}),v(f).forEach(u),o=w(I,"DIV",{class:!0}),v(o).forEach(u),p=w(I,"DIV",{class:!0}),v(p).forEach(u),b=w(I,"DIV",{class:!0}),v(b).forEach(u),V=w(I,"DIV",{class:!0}),v(V).forEach(u),I.forEach(u),D.forEach(u),this.h()},h(){d(l,"class","svelte-a6xc0h"),d(r,"class","svelte-a6xc0h"),d(i,"class","svelte-a6xc0h"),d(n,"class","svelte-a6xc0h"),d(c,"class","svelte-a6xc0h"),d(a,"class","svelte-a6xc0h"),d(_,"class","svelte-a6xc0h"),d(f,"class","svelte-a6xc0h"),d(o,"class","svelte-a6xc0h"),d(p,"class","svelte-a6xc0h"),d(b,"class","svelte-a6xc0h"),d(V,"class","svelte-a6xc0h"),d(t,"class","lds-spinner svelte-a6xc0h"),d(e,"class","load-content svelte-a6xc0h")},m(k,D){j(k,e,D),g(e,t),g(t,l),g(t,r),g(t,i),g(t,n),g(t,c),g(t,a),g(t,_),g(t,f),g(t,o),g(t,p),g(t,b),g(t,V)},d(k){k&&u(e)}}}function pl(s){let e,t=s[0]&&gt(s);return{c(){e=y("div"),t&&t.c(),this.h()},l(l){e=w(l,"DIV",{class:!0});var r=v(e);t&&t.l(r),r.forEach(u),this.h()},h(){d(e,"class","svelte-a6xc0h"),Ie(e,"fulldiv-container",s[0]&&s[1])},m(l,r){j(l,e,r),t&&t.m(e,null)},p(l,[r]){l[0]?t?t.p(l,r):(t=gt(l),t.c(),t.m(e,null)):t&&(t.d(1),t=null),r&3&&Ie(e,"fulldiv-container",l[0]&&l[1])},i:$,o:$,d(l){l&&u(e),t&&t.d()}}}function bl(s,e,t){let{show:l=!1}=e,{fulldiv:r=!0}=e;return s.$$set=i=>{"show"in i&&t(0,l=i.show),"fulldiv"in i&&t(1,r=i.fulldiv)},[l,r]}class mt extends ae{constructor(e){super();oe(this,e,bl,pl,ce,{show:0,fulldiv:1})}}function vt(s,e,t){const l=s.slice();return l[25]=e[t],l[27]=t,l}function pt(s,e,t){const l=s.slice();return l[25]=e[t],l[27]=t,l}function bt(s,e,t){const l=s.slice();return l[29]=e[t],l}function yt(s,e,t){const l=s.slice();return l[32]=e[t],l}function wt(s){let e,t=s[4][s[32]].label+"",l,r,i;return{c(){e=y("option"),l=T(t),r=ee(),this.h()},l(n){e=w(n,"OPTION",{});var c=v(e);l=H(c,t),r=te(c),c.forEach(u),this.h()},h(){e.__value=i=s[32],e.value=e.__value},m(n,c){j(n,e,c),g(e,l),g(e,r)},p:$,d(n){n&&u(e)}}}function Et(s){let e,t=s[29].slice(0,1).toUpperCase()+s[29].slice(1)+"",l,r,i;return{c(){e=y("option"),l=T(t),r=ee(),this.h()},l(n){e=w(n,"OPTION",{});var c=v(e);l=H(c,t),r=te(c),c.forEach(u),this.h()},h(){e.__value=i=s[29],e.value=e.__value},m(n,c){j(n,e,c),g(e,l),g(e,r)},p:$,d(n){n&&u(e)}}}function yl(s){let e,t;return e=new mt({props:{show:s[3][s[25].query],fulldiv:!1}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){de(e,l,r),t=!0},p(l,r){const i={};r[0]&8&&(i.show=l[3][l[25].query]),e.$set(i)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function wl(s){let e=(s[25].type==="date"?s[2][s[25].query].data.replace(/(....)-(..)-(..)/,"$3/$2/$1"):s[2][s[25].query].data)+"",t,l,r=s[25].type==="percentage"&&El();return{c(){t=T(e),r&&r.c(),l=ge()},l(i){t=H(i,e),r&&r.l(i),l=ge()},m(i,n){j(i,t,n),r&&r.m(i,n),j(i,l,n)},p(i,n){n[0]&4&&e!==(e=(i[25].type==="date"?i[2][i[25].query].data.replace(/(....)-(..)-(..)/,"$3/$2/$1"):i[2][i[25].query].data)+"")&&me(t,e)},i:$,o:$,d(i){i&&u(t),r&&r.d(i),i&&u(l)}}}function El(s){let e;return{c(){e=T("%")},l(t){e=H(t,"%")},m(t,l){j(t,e,l)},d(t){t&&u(e)}}}function kl(s){let e,t,l,r;const i=[wl,yl],n=[];function c(a,_){return a[2][a[25].query]&&!a[3][a[25].query]?0:1}return t=c(s),l=n[t]=i[t](s),{c(){e=y("span"),l.c(),this.h()},l(a){e=w(a,"SPAN",{slot:!0});var _=v(e);l.l(_),_.forEach(u),this.h()},h(){d(e,"slot","title")},m(a,_){j(a,e,_),n[t].m(e,null),r=!0},p(a,_){let f=t;t=c(a),t===f?n[t].p(a,_):(Ce(),K(n[f],1,1,()=>{n[f]=null}),Oe(),l=n[t],l?l.p(a,_):(l=n[t]=i[t](a),l.c()),R(l,1),l.m(e,null))},i(a){r||(R(l),r=!0)},o(a){K(l),r=!1},d(a){a&&u(e),n[t].d()}}}function Dl(s){let e,t=s[7][s[25].query]+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(r){e=w(r,"SPAN",{slot:!0});var i=v(e);l=H(i,t),i.forEach(u),this.h()},h(){d(e,"slot","desc")},m(r,i){j(r,e,i),g(e,l)},p:$,d(r){r&&u(e)}}}function kt(s){let e,t,l,r;return t=new il({props:{$$slots:{desc:[Dl],title:[kl]},$$scope:{ctx:s}}}),{c(){e=y("div"),ue(t.$$.fragment),l=ee(),this.h()},l(i){e=w(i,"DIV",{class:!0});var n=v(e);fe(t.$$.fragment,n),l=te(n),n.forEach(u),this.h()},h(){d(e,"class","fr-col loader-parent")},m(i,n){j(i,e,n),de(t,e,null),g(e,l),r=!0},p(i,n){const c={};n[0]&12|n[1]&16&&(c.$$scope={dirty:n,ctx:i}),t.$set(c)},i(i){r||(R(t.$$.fragment,i),r=!0)},o(i){K(t.$$.fragment,i),r=!1},d(i){i&&u(e),he(t)}}}function ql(s){let e,t;return e=new gl({props:{data:s[2][s[25].query]&&s[2][s[25].query].data}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){de(e,l,r),t=!0},p(l,r){const i={};r[0]&4&&(i.data=l[2][l[25].query]&&l[2][l[25].query].data),e.$set(i)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Il(s){let e,t;return e=new fl({props:{words:s[2][s[25].query]&&s[9](s[2][s[25].query].data)}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){de(e,l,r),t=!0},p(l,r){const i={};r[0]&4&&(i.words=l[2][l[25].query]&&l[9](l[2][l[25].query].data)),e.$set(i)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Sl(s){let e,t;return e=new ol({props:{height:s[25].height,type:s[25].type,data:s[2][s[25].query]&&s[8](s[2][s[25].query].data,s[25].query,s[2][s[25].query].type,s[25].type,s[25].fill),options:ne({plugins:{datalabels:{color:"#ffffff"},title:{display:!0,text:s[7][s[25].query]},legend:{display:s[25].legend}}},s[2][s[25].query]&&s[2][s[25].query].type==="time_series"?be(ne({},s[10]),{scales:{x:{type:"time",stacked:!0},y:{stacked:!0,beginAtZero:s[25].type==="bar"}}}):be(ne({},s[10]),{indexAxis:s[25].indexAxis||"x"}))}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){de(e,l,r),t=!0},p(l,r){const i={};r[0]&4&&(i.data=l[2][l[25].query]&&l[8](l[2][l[25].query].data,l[25].query,l[2][l[25].query].type,l[25].type,l[25].fill)),r[0]&4&&(i.options=ne({plugins:{datalabels:{color:"#ffffff"},title:{display:!0,text:l[7][l[25].query]},legend:{display:l[25].legend}}},l[2][l[25].query]&&l[2][l[25].query].type==="time_series"?be(ne({},l[10]),{scales:{x:{type:"time",stacked:!0},y:{stacked:!0,beginAtZero:l[25].type==="bar"}}}):be(ne({},l[10]),{indexAxis:l[25].indexAxis||"x"}))),e.$set(i)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Dt(s){let e,t,l,r,i,n,c;t=new mt({props:{show:s[3][s[25].query]&&s[2][s[25].query]}});const a=[Sl,Il,ql],_=[];function f(o,p){return["bar","line","pie"].includes(o[25].type)?0:o[25].type==="wordCloud"?1:o[25].type==="cells"?2:-1}return~(r=f(s))&&(i=_[r]=a[r](s)),{c(){e=y("div"),ue(t.$$.fragment),l=ee(),i&&i.c(),n=ee(),this.h()},l(o){e=w(o,"DIV",{class:!0});var p=v(e);fe(t.$$.fragment,p),l=te(p),i&&i.l(p),n=te(p),p.forEach(u),this.h()},h(){d(e,"class","fr-col-12 fr-col-md-6 loader-parent")},m(o,p){j(o,e,p),de(t,e,null),g(e,l),~r&&_[r].m(e,null),g(e,n),c=!0},p(o,p){const b={};p[0]&12&&(b.show=o[3][o[25].query]&&o[2][o[25].query]),t.$set(b),i&&i.p(o,p)},i(o){c||(R(t.$$.fragment,o),R(i),c=!0)},o(o){K(t.$$.fragment,o),K(i),c=!1},d(o){o&&u(e),he(t),~r&&_[r].d()}}}function Vl(s){let e,t,l,r,i,n,c,a,_,f,o,p,b,V,k,D,I,U,J,re,Q,le,x,S,N,E,q,L,Z,F,z=Object.keys(s[4]),C=[];for(let m=0;m<z.length;m+=1)C[m]=wt(yt(s,z,m));let B=s[5],O=[];for(let m=0;m<B.length;m+=1)O[m]=Et(bt(s,B,m));let W=s[6].filter(qt),A=[];for(let m=0;m<W.length;m+=1)A[m]=kt(pt(s,W,m));const Vt=m=>K(A[m],1,1,()=>{A[m]=null});let ie=s[6].filter(It),P=[];for(let m=0;m<ie.length;m+=1)P[m]=Dt(vt(s,ie,m));const Ct=m=>K(P[m],1,1,()=>{P[m]=null});return{c(){e=y("div"),t=y("div"),l=y("div"),r=y("div"),i=y("div"),n=y("div"),c=y("div"),a=y("div"),_=y("div"),f=y("label"),o=T("Plage de dates"),p=ee(),b=y("select");for(let m=0;m<C.length;m+=1)C[m].c();V=ee(),k=y("div"),D=y("label"),I=T("Environnement"),U=ee(),J=y("select");for(let m=0;m<O.length;m+=1)O[m].c();re=ee(),Q=y("div"),le=y("div"),x=y("div");for(let m=0;m<A.length;m+=1)A[m].c();S=ee(),N=y("div"),E=y("div"),q=y("div");for(let m=0;m<P.length;m+=1)P[m].c();this.h()},l(m){e=w(m,"DIV",{class:!0});var M=v(e);t=w(M,"DIV",{class:!0});var h=v(t);l=w(h,"DIV",{class:!0});var X=v(l);r=w(X,"DIV",{class:!0});var Fe=v(r);i=w(Fe,"DIV",{class:!0});var _e=v(i);n=w(_e,"DIV",{class:!0});var Ae=v(n);c=w(Ae,"DIV",{class:!0});var Pe=v(c);a=w(Pe,"DIV",{class:!0});var Ee=v(a);_=w(Ee,"DIV",{class:!0});var ke=v(_);f=w(ke,"LABEL",{class:!0,for:!0});var Ne=v(f);o=H(Ne,"Plage de dates"),Ne.forEach(u),p=te(ke),b=w(ke,"SELECT",{id:!0,class:!0});var We=v(b);for(let G=0;G<C.length;G+=1)C[G].l(We);We.forEach(u),ke.forEach(u),V=te(Ee),k=w(Ee,"DIV",{class:!0});var De=v(k);D=w(De,"LABEL",{class:!0,for:!0});var Le=v(D);I=H(Le,"Environnement"),Le.forEach(u),U=te(De),J=w(De,"SELECT",{id:!0,class:!0});var ze=v(J);for(let G=0;G<O.length;G+=1)O[G].l(ze);ze.forEach(u),De.forEach(u),Ee.forEach(u),Pe.forEach(u),Ae.forEach(u),re=te(_e),Q=w(_e,"DIV",{class:!0});var Be=v(Q);le=w(Be,"DIV",{class:!0});var Te=v(le);x=w(Te,"DIV",{class:!0});var He=v(x);for(let G=0;G<A.length;G+=1)A[G].l(He);He.forEach(u),Te.forEach(u),Be.forEach(u),S=te(_e),N=w(_e,"DIV",{class:!0});var Re=v(N);E=w(Re,"DIV",{class:!0});var Ue=v(E);q=w(Ue,"DIV",{class:!0});var Je=v(q);for(let G=0;G<P.length;G+=1)P[G].l(Je);Je.forEach(u),Ue.forEach(u),Re.forEach(u),_e.forEach(u),Fe.forEach(u),X.forEach(u),h.forEach(u),M.forEach(u),this.h()},h(){d(f,"class","fr-label"),d(f,"for","date"),d(b,"id","date"),d(b,"class","fr-select"),s[0]===void 0&&xe(()=>s[11].call(b)),d(_,"class","fr-col-6"),d(D,"class","fr-label"),d(D,"for","env"),d(J,"id","env"),d(J,"class","fr-select"),s[1]===void 0&&xe(()=>s[12].call(J)),d(k,"class","fr-col-6"),d(a,"class","fr-grid-row fr-grid-row--gutters"),d(c,"class","fr-container fr-container--fluid"),d(n,"class","fr-col-12"),d(x,"class","fr-grid-row fr-grid-row--gutters fr-grid-row--center"),d(le,"class","fr-container fr-container--fluid"),d(Q,"class","fr-col-12"),d(q,"class","fr-grid-row fr-grid-row--gutters fr-grid-row--center"),d(E,"class","fr-container fr-container--fluid"),d(N,"class","fr-col-12"),d(i,"class","fr-grid-row fr-grid-row--gutters fr-grid-row--center"),d(r,"class","fr-container fr-container--fluid"),d(l,"class","fr-col-12"),d(t,"class","fr-grid-row fr-grid-row--gutters"),d(e,"class","fr-container fr-container--fluid")},m(m,M){j(m,e,M),g(e,t),g(t,l),g(l,r),g(r,i),g(i,n),g(n,c),g(c,a),g(a,_),g(_,f),g(f,o),g(_,p),g(_,b);for(let h=0;h<C.length;h+=1)C[h].m(b,null);Se(b,s[0]),g(a,V),g(a,k),g(k,D),g(D,I),g(k,U),g(k,J);for(let h=0;h<O.length;h+=1)O[h].m(J,null);Se(J,s[1]),g(i,re),g(i,Q),g(Q,le),g(le,x);for(let h=0;h<A.length;h+=1)A[h].m(x,null);g(i,S),g(i,N),g(N,E),g(E,q);for(let h=0;h<P.length;h+=1)P[h].m(q,null);L=!0,Z||(F=[et(b,"change",s[11]),et(J,"change",s[12])],Z=!0)},p(m,M){if(M[0]&16){z=Object.keys(m[4]);let h;for(h=0;h<z.length;h+=1){const X=yt(m,z,h);C[h]?C[h].p(X,M):(C[h]=wt(X),C[h].c(),C[h].m(b,null))}for(;h<C.length;h+=1)C[h].d(1);C.length=z.length}if(M[0]&17&&Se(b,m[0]),M[0]&32){B=m[5];let h;for(h=0;h<B.length;h+=1){const X=bt(m,B,h);O[h]?O[h].p(X,M):(O[h]=Et(X),O[h].c(),O[h].m(J,null))}for(;h<O.length;h+=1)O[h].d(1);O.length=B.length}if(M[0]&34&&Se(J,m[1]),M[0]&204){W=m[6].filter(qt);let h;for(h=0;h<W.length;h+=1){const X=pt(m,W,h);A[h]?(A[h].p(X,M),R(A[h],1)):(A[h]=kt(X),A[h].c(),R(A[h],1),A[h].m(x,null))}for(Ce(),h=W.length;h<A.length;h+=1)Vt(h);Oe()}if(M[0]&1996){ie=m[6].filter(It);let h;for(h=0;h<ie.length;h+=1){const X=vt(m,ie,h);P[h]?(P[h].p(X,M),R(P[h],1)):(P[h]=Dt(X),P[h].c(),R(P[h],1),P[h].m(q,null))}for(Ce(),h=ie.length;h<P.length;h+=1)Ct(h);Oe()}},i(m){if(!L){for(let M=0;M<W.length;M+=1)R(A[M]);for(let M=0;M<ie.length;M+=1)R(P[M]);L=!0}},o(m){A=A.filter(Boolean);for(let M=0;M<A.length;M+=1)K(A[M]);P=P.filter(Boolean);for(let M=0;M<P.length;M+=1)K(P[M]);L=!1},d(m){m&&u(e),ve(C,m),ve(O,m),ve(A,m),ve(P,m),Z=!1,Xt(F)}}}let Cl=50;const qt=s=>["number","percentage","date"].includes(s.type),It=s=>!["number","percentage","date"].includes(s.type);function Ol(s,e,t){let{since:l=Me}=e,{env:r=je}=e;const i={"24h":{label:"Dernier jour",start:"now-1d",end:"now",step:"1h"},"1h":{label:"Derni\xE8re heure",start:"now-1h",end:"now",step:"1m"},"7j":{label:"Derni\xE8re semaine",start:"now-7d",end:"now",step:"4h"},"30j":{label:"Dernier mois",start:"now-30d",end:"now",step:"1d"},j0:{label:"Depuis le d\xE9but",start:"2021-10-01",end:"now",step:"1d"}},n=["production","secours","recette"],c={production:{"Piste production":"api-piste-gouv-fr","Scaleway production":"search-judilibre-io","Scaleway primaire":"search-prod-par2-judilibre-io","Scaleway secondaire":"search-prod-par1-judilibre-io"},recette:{"Piste sandbox":"sandbox-api-piste-gouv-fr","Scaleway recette":"search-dev-judilibre-io"}};c.secours=c.production;const a=[{query:"total_docs",type:"number"},{query:"last_decision_date",type:"date"},{query:"api_requests_number",type:"number"},{query:"decision_uniq_number",type:"number"},{query:"uptime",type:"percentage"},{query:"api_requests_date_histogram",type:"line",legend:!0},{query:"top_words",type:"wordCloud",height:"400px",col:12,legend:!1},{query:"requests_ip_source",type:"pie",legend:!0},{query:"piste",type:"bar",legend:!1},{query:"uptime_details",type:"cells"},{query:"errors_histogram",type:"bar",indexAxis:"y",legend:!1},{query:"latencty_date_histogram",type:"line",fill:!0,legend:!0},{query:"bandwidth_date_histogram",type:"line",legend:!1},{query:"cpu_date_histogram",type:"line",fill:!0,legend:!0},{query:"mem_date_histogram",type:"line",fill:!0,legend:!0}],_={total_docs:"D\xE9cisions index\xE9es",last_decision_date:"Date de la derni\xE8re d\xE9cision",api_requests_number:"Appels API",api_requests_date_histogram:"Requ\xEAtes",decision_uniq_number:"D\xE9cisions consult\xE9es",errors_histogram:"Erreurs http",requests_ip_source:"Canal d'appel",piste:"Utilisateurs Piste",latencty_date_histogram:"Latence",cpu_date_histogram:"CPU %",mem_date_histogram:"M\xE9moire",bandwidth_date_histogram:"R\xE9seau (octets)",top_words:"Recherches",pods_number:"Conteneurs",uptime:"Disponibilit\xE9"};let f={},o={};const p={d:1e3*24*60*60,h:1e3*3600,m:1e3*24*60*60*30,w:1e3*24*60*60*7,y:1e3*24*60*60*365,M:1e3*24*60},b=()=>{let E=[],q=V(i[l].start);const L=V(i[l].end),Z=k(i[l].step);for(;q<L;){let F=new Date(q.getTime()+Z);E.push({dateFrom:q,dateTo:F}),q=F}return E},V=E=>{const q=E.match(/^now(-(\d+)(m|h|d|y|w|M))?$/);if(q){if(E==="now")return new Date(Date.now());{const L=q[2],Z=p[q[3]];return new Date(Date.now()-L*Z)}}else return new Date(E)},k=E=>{const q=E.match(/^(\d+)(m|h|d|y|w|M)$/);if(q){const L=q[1],Z=p[q[2]];return L*Z}else return 60*1e3},D=()=>{a.filter(E=>E.query!=="uptime_details").forEach(async E=>{if(t(3,o[E.query]=!0,o),E.query!=="uptime"){const q=await fetch(`https://stats-api.judilibre.io/stats?query=${E.query}&date_start=${i[l].start}&date_end=${i[l].end}&date_interval=${i[l].step}&env=${r}&size=${Cl}`);if(q.ok){const L=await q.json();t(2,f[E.query]=await L[E.query],f),t(3,o[E.query]=!1,o)}}else{const q=c[r],L={};await Promise.all(Object.keys(q).map(async(F,z)=>{const C=await fetch(`https://api.github.com/repos/Cour-de-cassation/judilibre-uptime/issues?state=closed&filter=all&sort=created&direction=desc&labels=status%2C${q[F]}-healthcheck`);C.ok&&(L[F]=await C.json())}));const Z=k(i[l].step);t(3,o.uptime_details=!0,o),t(2,f.uptime_details={type:"time_series",data:b().map(F=>{const z={date:F.dateFrom.toISOString(),dateInterval:Z};return Object.keys(q).forEach(C=>{z[C]=Math.round((Number.EPSILON+1-1/Z*L[C].filter(B=>B.title.includes("down")).map(B=>{const O=new Date(B.created_at),W=B.closed_at&&new Date(B.closed_at)||new Date(Date.now());return F.dateTo<O||F.dateFrom>W?0:(F.dateTo>W?W:F.dateTo).getTime()-(F.dateFrom>O?F.dateFrom:O).getTime()}).reduce((B,O)=>B+O,0))*1e4)/100}),z})},f),t(2,f.uptime={type:"number",data:Math.round(100*(Number.EPSILON+f.uptime_details.data.map(F=>F[Object.keys(c[r])[0]]).reduce((F,z)=>F+z,0)/f.uptime_details.data.length))/100},f),t(3,o[E.query]=!1,o),t(3,o.uptime_details=!1,o)}})},I=(E,q,L,Z,F)=>{if(L==="time_series"){let z=0,C={};E.forEach(O=>{Object.keys(O).forEach(W=>{W!=="date"&&(C[W]=!0)})}),C=Object.keys(C),C.includes("Mem.total")&&(C=["Mem.used.min","Mem.used.mean","Mem.used.max","Mem.total"]);const B={datasets:C.map(O=>({data:E.map(W=>{if(W[O])return{x:new Date(W.date),y:W[O]}}),label:O,borderColor:x[z++],borderWidth:F||Z==="bar"?0:void 0,fill:F?"origin":void 0,stack:O,backgroundColor:F?`#000091${9-2*z}${9-2*z}`:Z==="bar"?"#000091":void 0}))};return Z==="bar"&&C.forEach(O=>{B.datasets.push({data:E.map(W=>({x:new Date(W.date),y:100-W[O]})),label:`${O} (down)`,borderWidth:0,stack:O,backgroundColor:"#e1000f"})}),B}else{let z=Object.keys(E).sort((C,B)=>E[B]-E[C]);return{datasets:[{data:z.map(C=>E[C]),backgroundColor:x,borderWidth:0,label:_[q]}],labels:z.map(C=>re(C))}}},U=E=>Object.keys(E).filter(q=>q.length>1&&!["chien","t\xE9l\xE9phonie"].includes(q)).map(q=>({text:q,count:E[q]})),J={"80.87.226.10":"courdecassation.fr","185.24.185.49":"piste.gouv.fr"},re=E=>J[E]||E,Q={responsive:!0,maintainAspectRatio:!1,animation:{duration:0},interaction:{mode:"index"},hover:{intersect:!1},elements:{point:{radius:0},line:{tension:.15}}},le={"F-blue-soft":"#5770BE","N-orange-dark":"#E18863","E-green-soft":"#00AC8C","L-yellow-dark":"#FDCF41","Q-brown":"#A26859","J-pink-light":"#FFC29E","$blue-france":"#000091","$red-marianne":"#E1000F","A-green-warm":"#958B62","B-green-light":"#91AE4F","C-green-warm":"#169B62","G-blue-dark":"#484D7A","H-pink-soft":"#FF8D7E","I-pink-dark":"#D08A77","K-yellow-medium":"#FFE800","M-orange-medium":"#FF9940","O-orange-soft":"#FF6F4C","P-purple":"#7D4E5B"},x=Object.keys(le).map(E=>le[E]);function S(){l=tt(this),t(0,l),t(4,i)}function N(){r=tt(this),t(1,r),t(5,n)}return s.$$set=E=>{"since"in E&&t(0,l=E.since),"env"in E&&t(1,r=E.env)},s.$$.update=()=>{s.$$.dirty[0]&3&&(l||r)&&D()},[l,r,f,o,i,n,a,_,I,U,Q,S,N]}class Ml extends ae{constructor(e){super();oe(this,e,Ol,Vl,ce,{since:0,env:1},null,[-1,-1])}}const jl=el,St=Fl;async function Fl(s,e){return jl.goto(s,e,[])}const Al=()=>{const s=Yt("__svelte__");return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:s.navigating.subscribe}},session:s.session}},Pl={subscribe(s){return Al().page.subscribe(s)}};function Nl(s){let e,t,l,r,i,n,c,a,_;function f(b){s[3](b)}function o(b){s[4](b)}let p={};return s[0]!==void 0&&(p.since=s[0]),s[1]!==void 0&&(p.env=s[1]),n=new Ml({props:p}),Ve.push(()=>lt(n,"since",f)),Ve.push(()=>lt(n,"env",o)),{c(){e=ee(),t=y("section"),l=y("div"),r=y("div"),i=y("div"),ue(n.$$.fragment),this.h()},l(b){$t('[data-svelte="svelte-9qr2em"]',document.head).forEach(u),e=te(b),t=w(b,"SECTION",{});var k=v(t);l=w(k,"DIV",{class:!0});var D=v(l);r=w(D,"DIV",{class:!0});var I=v(r);i=w(I,"DIV",{class:!0});var U=v(i);fe(n.$$.fragment,U),U.forEach(u),I.forEach(u),D.forEach(u),k.forEach(u),this.h()},h(){document.title="API Judilibre - statistiques",d(i,"class","fr-col-12 fr-mt-2w"),d(r,"class","fr-grid-row fr-grid-row--gutters fr-grid-row--center"),d(l,"class","fr-container")},m(b,V){j(b,e,V),j(b,t,V),g(t,l),g(l,r),g(r,i),de(n,i,null),_=!0},p(b,[V]){const k={};!c&&V&1&&(c=!0,k.since=b[0],st(()=>c=!1)),!a&&V&2&&(a=!0,k.env=b[1],st(()=>a=!1)),n.$set(k)},i(b){_||(R(n.$$.fragment,b),_=!0)},o(b){K(n.$$.fragment,b),_=!1},d(b){b&&u(e),b&&u(t),he(n)}}}const Tl=!1;async function Hl({page:s}){const e={};return e.since=s.query.get("since")||Me,e.env=s.query.get("env")||je,{props:e}}function Wl(s,e,t){let l;xt(s,Pl,a=>t(2,l=a));let{since:r}=e,{env:i}=e;function n(a){r=a,t(0,r)}function c(a){i=a,t(1,i)}return s.$$set=a=>{"since"in a&&t(0,r=a.since),"env"in a&&t(1,i=a.env)},s.$$.update=()=>{s.$$.dirty&5&&r&&(r!==Me?l.query.set("since",r):l.query.delete("since"),St(l.query.toString()?`${l.path}?${l.query.toString()}`:`${l.path}`)),s.$$.dirty&6&&i&&(i!==je?l.query.set("env",i):l.query.delete("env"),St(l.query.toString()?`${l.path}?${l.query.toString()}`:`${l.path}`))},[r,i,l,n,c]}class Rl extends ae{constructor(e){super();oe(this,e,Wl,Nl,ce,{since:0,env:1})}}export{Rl as default,Hl as load,Tl as prerender};

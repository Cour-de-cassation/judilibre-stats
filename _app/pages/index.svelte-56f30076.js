var ut=Object.defineProperty,ft=Object.defineProperties;var ht=Object.getOwnPropertyDescriptors;var ze=Object.getOwnPropertySymbols;var _t=Object.prototype.hasOwnProperty,mt=Object.prototype.propertyIsEnumerable;var Le=(r,e,t)=>e in r?ut(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fe=(r,e)=>{for(var t in e||(e={}))_t.call(e,t)&&Le(r,t,e[t]);if(ze)for(var t of ze(e))mt.call(e,t)&&Le(r,t,e[t]);return r},ye=(r,e)=>ft(r,ht(e));import{S as se,i as re,s as le,H as Te,e as v,k as R,c as g,a as p,d,n as J,b as m,f as B,F as h,I as We,J as Be,K as Ne,x as A,u as L,E as ae,G,L as ve,M as vt,N as gt,O as pt,P as yt,Q as bt,R as wt,T as Et,U as qt,V as Dt,W as kt,X as It,Y as Vt,Z as Ct,_ as St,$ as Ft,a0 as At,a1 as Re,a2 as Je,t as ne,g as oe,j as ie,m as ce,o as de,v as ue,r as be,w as we,a3 as Ge,a4 as ge,a5 as He,a6 as pe,a7 as Ot,h as Pt,a8 as Ke,a9 as jt}from"../chunks/vendor-1002784e.js";const Mt=r=>({}),Qe=r=>({}),zt=r=>({}),Ue=r=>({});function Lt(r){let e,t,s,l,a,n;const i=r[1].title,c=Te(i,r,r[0],Ue),w=r[1].desc,y=Te(w,r,r[0],Qe);return{c(){e=v("div"),t=v("div"),s=v("h4"),c&&c.c(),l=R(),a=v("p"),y&&y.c(),this.h()},l(f){e=g(f,"DIV",{class:!0});var _=p(e);t=g(_,"DIV",{class:!0});var E=p(t);s=g(E,"H4",{class:!0});var P=p(s);c&&c.l(P),P.forEach(d),l=J(E),a=g(E,"P",{class:!0});var S=p(a);y&&y.l(S),S.forEach(d),E.forEach(d),_.forEach(d),this.h()},h(){m(s,"class","fr-tile__title"),m(a,"class","rf-tile__desc fr-mt-0 fr-mb-0"),m(t,"class","fr-tile__body"),m(e,"class","fr-tile")},m(f,_){B(f,e,_),h(e,t),h(t,s),c&&c.m(s,null),h(t,l),h(t,a),y&&y.m(a,null),n=!0},p(f,[_]){c&&c.p&&(!n||_&1)&&We(c,i,f,f[0],n?Ne(i,f[0],_,zt):Be(f[0]),Ue),y&&y.p&&(!n||_&1)&&We(y,w,f,f[0],n?Ne(w,f[0],_,Mt):Be(f[0]),Qe)},i(f){n||(A(c,f),A(y,f),n=!0)},o(f){L(c,f),L(y,f),n=!1},d(f){f&&d(e),c&&c.d(f),y&&y.d(f)}}}function Tt(r,e,t){let{$$slots:s={},$$scope:l}=e;return r.$$set=a=>{"$$scope"in a&&t(0,l=a.$$scope)},[l,s]}class Wt extends se{constructor(e){super();re(this,e,Tt,Lt,le,{})}}function Bt(r){let e;return{c(){e=v("canvas"),this.h()},l(t){e=g(t,"CANVAS",{style:!0}),p(e).forEach(d),this.h()},h(){ae(e,"height",r[0]||"250px")},m(t,s){B(t,e,s),r[5](e)},p(t,[s]){s&1&&ae(e,"height",t[0]||"250px")},i:G,o:G,d(t){t&&d(e),r[5](null)}}}function Nt(r,e,t){let{type:s="line"}=e,{data:l}=e,{height:a}=e,{options:n={}}=e;ve.register(...vt),ve.register(gt),ve.defaults.font.family='"Marianne"';let i,c,w;function y(){w=i.getContext("2d"),c?(c.data=l,c.update()):c=new ve(w,{type:s,data:l,options:n})}function f(_){pt[_?"unshift":"push"](()=>{i=_,t(1,i)})}return r.$$set=_=>{"type"in _&&t(2,s=_.type),"data"in _&&t(3,l=_.data),"height"in _&&t(0,a=_.height),"options"in _&&t(4,n=_.options)},r.$$.update=()=>{r.$$.dirty&8&&l&&y()},[a,i,s,l,n,f]}class Rt extends se{constructor(e){super();re(this,e,Nt,Bt,le,{type:2,data:3,height:0,options:4})}}function Jt(r){let e;return{c(){e=v("div"),this.h()},l(t){e=g(t,"DIV",{id:!0,style:!0,class:!0}),p(e).forEach(d),this.h()},h(){m(e,"id","wordcloud"),ae(e,"height","100%"),ae(e,"max-height","250px"),ae(e,"display","block"),ae(e,"margin","auto"),m(e,"class","svelte-1ig73ck")},m(t,s){B(t,e,s)},p:G,i:G,o:G,d(t){t&&d(e)}}}function Gt(r,e,t){const s=yt(),l={schemeCategory10:Et,schemeAccent:qt,schemeDark2:Dt,schemePaired:kt,schemePastel1:It,schemePastel2:Vt,schemeSet1:Ct,schemeSet2:St,schemeSet3:Ft,schemeTableau10:At};let{words:a}=e,{height:n=900}=e,{width:i=1600}=e,{font:c='"Marianne"'}=e,{maxFontSize:w=30}=e,{scheme:y="schemeTableau10"}=e,{padding:f=4}=e,_="",E;const P=bt(l[y]),S=b=>s("click",b),O=b=>s("mouseover",b),C=b=>s("mouseout",b),X=b=>s("mousemove",b);let F;const k=b=>{Re("#wordcloud").append("svg").attr("viewBox",`0 0 ${i} ${n}`).attr("width","100%").attr("height","100%").classed("svg-content-responsive",!0).append("g").attr("transform","translate("+F.size()[0]/2+","+F.size()[1]/2+")").selectAll("text").data(b).enter().append("text").style("font-size",D=>D.size+"px").style("font-family",c).style("fill",(D,H)=>P(H)).attr("text-anchor","middle").attr("transform",D=>"translate("+[D.x,D.y]+")rotate("+D.rotate+")").text(D=>D.text).on("click",S).on("mouseover",O).on("mouseout",C).on("mousemove",X)};return r.$$set=b=>{"words"in b&&t(0,a=b.words),"height"in b&&t(1,n=b.height),"width"in b&&t(2,i=b.width),"font"in b&&t(3,c=b.font),"maxFontSize"in b&&t(4,w=b.maxFontSize),"scheme"in b&&t(5,y=b.scheme),"padding"in b&&t(6,f=b.padding)},r.$$.update=()=>{r.$$.dirty&991&&a&&JSON.stringify(a)!==_&&(F&&Re("#wordcloud").select("svg").remove(),t(7,_=JSON.stringify(a)),t(8,E=a.reduce((b,D)=>b.count<D.count?b.count:D.count)),t(9,F=wt().size([i,n]).words(a).padding(f).rotate(()=>~~(Math.random()*2)*90).font(c).fontSize(b=>Math.floor(b.count/E*w)).on("end",k)),F.start())},[a,n,i,c,w,y,f,_,E,F]}class Ht extends se{constructor(e){super();re(this,e,Gt,Jt,le,{words:0,height:1,width:2,font:3,maxFontSize:4,scheme:5,padding:6})}}function Xe(r){let e,t,s,l,a,n,i,c,w,y,f,_,E,P;return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("div"),a=v("div"),n=v("div"),i=v("div"),c=v("div"),w=v("div"),y=v("div"),f=v("div"),_=v("div"),E=v("div"),P=v("div"),this.h()},l(S){e=g(S,"DIV",{class:!0});var O=p(e);t=g(O,"DIV",{class:!0});var C=p(t);s=g(C,"DIV",{class:!0}),p(s).forEach(d),l=g(C,"DIV",{class:!0}),p(l).forEach(d),a=g(C,"DIV",{class:!0}),p(a).forEach(d),n=g(C,"DIV",{class:!0}),p(n).forEach(d),i=g(C,"DIV",{class:!0}),p(i).forEach(d),c=g(C,"DIV",{class:!0}),p(c).forEach(d),w=g(C,"DIV",{class:!0}),p(w).forEach(d),y=g(C,"DIV",{class:!0}),p(y).forEach(d),f=g(C,"DIV",{class:!0}),p(f).forEach(d),_=g(C,"DIV",{class:!0}),p(_).forEach(d),E=g(C,"DIV",{class:!0}),p(E).forEach(d),P=g(C,"DIV",{class:!0}),p(P).forEach(d),C.forEach(d),O.forEach(d),this.h()},h(){m(s,"class","svelte-2ws4xq"),m(l,"class","svelte-2ws4xq"),m(a,"class","svelte-2ws4xq"),m(n,"class","svelte-2ws4xq"),m(i,"class","svelte-2ws4xq"),m(c,"class","svelte-2ws4xq"),m(w,"class","svelte-2ws4xq"),m(y,"class","svelte-2ws4xq"),m(f,"class","svelte-2ws4xq"),m(_,"class","svelte-2ws4xq"),m(E,"class","svelte-2ws4xq"),m(P,"class","svelte-2ws4xq"),m(t,"class","lds-spinner svelte-2ws4xq"),m(e,"class","load-content svelte-2ws4xq")},m(S,O){B(S,e,O),h(e,t),h(t,s),h(t,l),h(t,a),h(t,n),h(t,i),h(t,c),h(t,w),h(t,y),h(t,f),h(t,_),h(t,E),h(t,P)},d(S){S&&d(e)}}}function Kt(r){let e,t=r[0]&&Xe();return{c(){e=v("div"),t&&t.c(),this.h()},l(s){e=g(s,"DIV",{class:!0});var l=p(e);t&&t.l(l),l.forEach(d),this.h()},h(){m(e,"class","load-container svelte-2ws4xq"),Je(e,"load-backround",r[0])},m(s,l){B(s,e,l),t&&t.m(e,null)},p(s,[l]){s[0]?t||(t=Xe(),t.c(),t.m(e,null)):t&&(t.d(1),t=null),l&1&&Je(e,"load-backround",s[0])},i:G,o:G,d(s){s&&d(e),t&&t.d()}}}function Qt(r,e,t){let{show:s=!1}=e;return r.$$set=l=>{"show"in l&&t(0,s=l.show)},[s]}class Ye extends se{constructor(e){super();re(this,e,Qt,Kt,le,{show:0})}}function Ze(r,e,t){const s=r.slice();return s[19]=e[t],s[21]=t,s}function $e(r,e,t){const s=r.slice();return s[22]=e[t],s}function xe(r,e,t){const s=r.slice();return s[25]=e[t],s}function et(r,e,t){const s=r.slice();return s[28]=e[t],s}function tt(r){let e,t=r[28].label+"",s,l,a;return{c(){e=v("option"),s=ne(t),l=R(),this.h()},l(n){e=g(n,"OPTION",{});var i=p(e);s=oe(i,t),l=J(i),i.forEach(d),this.h()},h(){e.__value=a=r[28],e.value=e.__value},m(n,i){B(n,e,i),h(e,s),h(e,l)},p:G,d(n){n&&d(e)}}}function st(r){let e,t=r[25].label+"",s,l,a;return{c(){e=v("option"),s=ne(t),l=R(),this.h()},l(n){e=g(n,"OPTION",{});var i=p(e);s=oe(i,t),l=J(i),i.forEach(d),this.h()},h(){e.__value=a=r[25],e.value=e.__value},m(n,i){B(n,e,i),h(e,s),h(e,l)},p:G,d(n){n&&d(e)}}}function rt(r){let e,t;return e=new Wt({props:{$$slots:{desc:[Xt],title:[Ut]},$$scope:{ctx:r}}}),{c(){ie(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,l){de(e,s,l),t=!0},p(s,l){const a={};l[0]&4|l[1]&1&&(a.$$scope={dirty:l,ctx:s}),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){L(e.$$.fragment,s),t=!1},d(s){ue(e,s)}}}function Ut(r){let e,t=r[2][r[22]].data+"",s;return{c(){e=v("span"),s=ne(t),this.h()},l(l){e=g(l,"SPAN",{slot:!0});var a=p(e);s=oe(a,t),a.forEach(d),this.h()},h(){m(e,"slot","title")},m(l,a){B(l,e,a),h(e,s)},p(l,a){a[0]&4&&t!==(t=l[2][l[22]].data+"")&&Pt(s,t)},d(l){l&&d(e)}}}function Xt(r){let e,t=r[5][r[22]]+"",s;return{c(){e=v("span"),s=ne(t),this.h()},l(l){e=g(l,"SPAN",{slot:!0});var a=p(e);s=oe(a,t),a.forEach(d),this.h()},h(){m(e,"slot","desc")},m(l,a){B(l,e,a),h(e,s)},p:G,d(l){l&&d(e)}}}function lt(r){let e,t,s,l,a;t=new Ye({props:{show:r[3][r[22]]&&r[2][r[22]]}});let n=r[2][r[22]]&&rt(r);return{c(){e=v("div"),ie(t.$$.fragment),s=R(),n&&n.c(),l=R(),this.h()},l(i){e=g(i,"DIV",{class:!0});var c=p(e);ce(t.$$.fragment,c),s=J(c),n&&n.l(c),l=J(c),c.forEach(d),this.h()},h(){m(e,"class","fr-col loader-parent")},m(i,c){B(i,e,c),de(t,e,null),h(e,s),n&&n.m(e,null),h(e,l),a=!0},p(i,c){const w={};c[0]&12&&(w.show=i[3][i[22]]&&i[2][i[22]]),t.$set(w),i[2][i[22]]?n?(n.p(i,c),c[0]&4&&A(n,1)):(n=rt(i),n.c(),A(n,1),n.m(e,l)):n&&(be(),L(n,1,1,()=>{n=null}),we())},i(i){a||(A(t.$$.fragment,i),A(n),a=!0)},o(i){L(t.$$.fragment,i),L(n),a=!1},d(i){i&&d(e),ue(t),n&&n.d()}}}function Yt(r){let e,t;return e=new Ht({props:{words:r[2][r[19].query]&&r[9](r[2][r[19].query].data)}}),{c(){ie(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,l){de(e,s,l),t=!0},p(s,l){const a={};l[0]&4&&(a.words=s[2][s[19].query]&&s[9](s[2][s[19].query].data)),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){L(e.$$.fragment,s),t=!1},d(s){ue(e,s)}}}function Zt(r){let e,t;return e=new Rt({props:{height:r[19].height,type:r[19].type,data:r[2][r[19].query]&&r[8](r[2][r[19].query].data,r[19].query,r[2][r[19].query].type,r[19].chartType,r[19].fill),options:fe({plugins:{datalabels:{color:"#ffffff"},title:{display:!0,text:r[5][r[19].query]},legend:{display:r[19].legend}}},r[2][r[19].query]&&r[2][r[19].query].type==="time_series"?ye(fe({},r[10]),{scales:{x:{type:"time"}}}):r[10])}}),{c(){ie(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,l){de(e,s,l),t=!0},p(s,l){const a={};l[0]&4&&(a.data=s[2][s[19].query]&&s[8](s[2][s[19].query].data,s[19].query,s[2][s[19].query].type,s[19].chartType,s[19].fill)),l[0]&4&&(a.options=fe({plugins:{datalabels:{color:"#ffffff"},title:{display:!0,text:s[5][s[19].query]},legend:{display:s[19].legend}}},s[2][s[19].query]&&s[2][s[19].query].type==="time_series"?ye(fe({},s[10]),{scales:{x:{type:"time"}}}):s[10])),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){L(e.$$.fragment,s),t=!1},d(s){ue(e,s)}}}function at(r){let e,t,s,l,a,n,i;t=new Ye({props:{show:r[3][r[19].query]&&r[2][r[19].query]}});const c=[Zt,Yt],w=[];function y(f,_){return f[19].type!=="wordCloud"?0:1}return l=y(r),a=w[l]=c[l](r),{c(){e=v("div"),ie(t.$$.fragment),s=R(),a.c(),n=R(),this.h()},l(f){e=g(f,"DIV",{class:!0});var _=p(e);ce(t.$$.fragment,_),s=J(_),a.l(_),n=J(_),_.forEach(d),this.h()},h(){m(e,"class","fr-col-12 fr-col-md-6 loader-parent")},m(f,_){B(f,e,_),de(t,e,null),h(e,s),w[l].m(e,null),h(e,n),i=!0},p(f,_){const E={};_[0]&12&&(E.show=f[3][f[19].query]&&f[2][f[19].query]),t.$set(E),a.p(f,_)},i(f){i||(A(t.$$.fragment,f),A(a),i=!0)},o(f){L(t.$$.fragment,f),L(a),i=!1},d(f){f&&d(e),ue(t),w[l].d()}}}function $t(r){let e,t,s,l,a,n,i,c,w,y,f,_,E,P,S,O,C,X,F,k,b,D,H,Y,T,N,U,K,Q,Ee,x=r[6],j=[];for(let u=0;u<x.length;u+=1)j[u]=tt(et(r,x,u));let ee=r[7],M=[];for(let u=0;u<ee.length;u+=1)M[u]=st(xe(r,ee,u));let Z=r[4].filter(nt).map(ot),I=[];for(let u=0;u<Z.length;u+=1)I[u]=lt($e(r,Z,u));const ct=u=>L(I[u],1,1,()=>{I[u]=null});let $=r[4].filter(it),V=[];for(let u=0;u<$.length;u+=1)V[u]=at(Ze(r,$,u));const dt=u=>L(V[u],1,1,()=>{V[u]=null});return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("div"),a=v("div"),n=v("div"),i=v("div"),c=v("div"),w=v("div"),y=v("label"),f=ne("Plage de dates"),_=R(),E=v("select");for(let u=0;u<j.length;u+=1)j[u].c();P=R(),S=v("div"),O=v("label"),C=ne("Environnement"),X=R(),F=v("select");for(let u=0;u<M.length;u+=1)M[u].c();k=R(),b=v("div"),D=v("div"),H=v("div");for(let u=0;u<I.length;u+=1)I[u].c();Y=R(),T=v("div"),N=v("div"),U=v("div");for(let u=0;u<V.length;u+=1)V[u].c();this.h()},l(u){e=g(u,"DIV",{class:!0});var q=p(e);t=g(q,"DIV",{class:!0});var o=p(t);s=g(o,"DIV",{class:!0});var W=p(s);l=g(W,"DIV",{class:!0});var qe=p(l);a=g(qe,"DIV",{class:!0});var te=p(a);n=g(te,"DIV",{class:!0});var De=p(n);i=g(De,"DIV",{class:!0});var ke=p(i);c=g(ke,"DIV",{class:!0});var he=p(c);w=g(he,"DIV",{class:!0});var _e=p(w);y=g(_e,"LABEL",{class:!0,for:!0});var Ie=p(y);f=oe(Ie,"Plage de dates"),Ie.forEach(d),_=J(_e),E=g(_e,"SELECT",{id:!0,class:!0});var Ve=p(E);for(let z=0;z<j.length;z+=1)j[z].l(Ve);Ve.forEach(d),_e.forEach(d),P=J(he),S=g(he,"DIV",{class:!0});var me=p(S);O=g(me,"LABEL",{class:!0,for:!0});var Ce=p(O);C=oe(Ce,"Environnement"),Ce.forEach(d),X=J(me),F=g(me,"SELECT",{id:!0,class:!0});var Se=p(F);for(let z=0;z<M.length;z+=1)M[z].l(Se);Se.forEach(d),me.forEach(d),he.forEach(d),ke.forEach(d),De.forEach(d),k=J(te),b=g(te,"DIV",{class:!0});var Fe=p(b);D=g(Fe,"DIV",{class:!0});var Ae=p(D);H=g(Ae,"DIV",{class:!0});var Oe=p(H);for(let z=0;z<I.length;z+=1)I[z].l(Oe);Oe.forEach(d),Ae.forEach(d),Fe.forEach(d),Y=J(te),T=g(te,"DIV",{class:!0});var Pe=p(T);N=g(Pe,"DIV",{class:!0});var je=p(N);U=g(je,"DIV",{class:!0});var Me=p(U);for(let z=0;z<V.length;z+=1)V[z].l(Me);Me.forEach(d),je.forEach(d),Pe.forEach(d),te.forEach(d),qe.forEach(d),W.forEach(d),o.forEach(d),q.forEach(d),this.h()},h(){m(y,"class","fr-label"),m(y,"for","date"),m(E,"id","date"),m(E,"class","fr-select"),r[0]===void 0&&Ge(()=>r[11].call(E)),m(w,"class","fr-col-6"),m(O,"class","fr-label"),m(O,"for","cluster"),m(F,"id","cluster"),m(F,"class","fr-select"),r[1]===void 0&&Ge(()=>r[12].call(F)),m(S,"class","fr-col-6"),m(c,"class","fr-grid-row fr-grid-row--gutters"),m(i,"class","fr-container fr-container--fluid"),m(n,"class","fr-col-12"),m(H,"class","fr-grid-row fr-grid-row--gutters fr-grid-row--center"),m(D,"class","fr-container fr-container--fluid"),m(b,"class","fr-col-12"),m(U,"class","fr-grid-row fr-grid-row--gutters fr-grid-row--center"),m(N,"class","fr-container fr-container--fluid"),m(T,"class","fr-col-12"),m(a,"class","fr-grid-row fr-grid-row--gutters fr-grid-row--center"),m(l,"class","fr-container fr-container--fluid"),m(s,"class","fr-col-12"),m(t,"class","fr-grid-row fr-grid-row--gutters"),m(e,"class","fr-container fr-container--fluid")},m(u,q){B(u,e,q),h(e,t),h(t,s),h(s,l),h(l,a),h(a,n),h(n,i),h(i,c),h(c,w),h(w,y),h(y,f),h(w,_),h(w,E);for(let o=0;o<j.length;o+=1)j[o].m(E,null);ge(E,r[0]),h(c,P),h(c,S),h(S,O),h(O,C),h(S,X),h(S,F);for(let o=0;o<M.length;o+=1)M[o].m(F,null);ge(F,r[1]),h(a,k),h(a,b),h(b,D),h(D,H);for(let o=0;o<I.length;o+=1)I[o].m(H,null);h(a,Y),h(a,T),h(T,N),h(N,U);for(let o=0;o<V.length;o+=1)V[o].m(U,null);K=!0,Q||(Ee=[He(E,"change",r[11]),He(F,"change",r[12])],Q=!0)},p(u,q){if(q[0]&64){x=u[6];let o;for(o=0;o<x.length;o+=1){const W=et(u,x,o);j[o]?j[o].p(W,q):(j[o]=tt(W),j[o].c(),j[o].m(E,null))}for(;o<j.length;o+=1)j[o].d(1);j.length=x.length}if(q[0]&65&&ge(E,u[0]),q[0]&128){ee=u[7];let o;for(o=0;o<ee.length;o+=1){const W=xe(u,ee,o);M[o]?M[o].p(W,q):(M[o]=st(W),M[o].c(),M[o].m(F,null))}for(;o<M.length;o+=1)M[o].d(1);M.length=ee.length}if(q[0]&130&&ge(F,u[1]),q[0]&60){Z=u[4].filter(nt).map(ot);let o;for(o=0;o<Z.length;o+=1){const W=$e(u,Z,o);I[o]?(I[o].p(W,q),A(I[o],1)):(I[o]=lt(W),I[o].c(),A(I[o],1),I[o].m(H,null))}for(be(),o=Z.length;o<I.length;o+=1)ct(o);we()}if(q[0]&1852){$=u[4].filter(it);let o;for(o=0;o<$.length;o+=1){const W=Ze(u,$,o);V[o]?(V[o].p(W,q),A(V[o],1)):(V[o]=at(W),V[o].c(),A(V[o],1),V[o].m(U,null))}for(be(),o=$.length;o<V.length;o+=1)dt(o);we()}},i(u){if(!K){for(let q=0;q<Z.length;q+=1)A(I[q]);for(let q=0;q<$.length;q+=1)A(V[q]);K=!0}},o(u){I=I.filter(Boolean);for(let q=0;q<I.length;q+=1)L(I[q]);V=V.filter(Boolean);for(let q=0;q<V.length;q+=1)L(V[q]);K=!1},d(u){u&&d(e),pe(j,u),pe(M,u),pe(I,u),pe(V,u),Q=!1,Ot(Ee)}}}let xt=50;const nt=r=>r.type==="number",ot=r=>r.query,it=r=>r.type!=="number";function es(r,e,t){const s=[{query:"api_requests_number",type:"number"},{query:"decision_uniq_number",type:"number"},{query:"pods_number",type:"number"},{query:"api_requests_date_histogram",type:"line",legend:!0},{query:"top_words",type:"wordCloud",height:"400px",col:12,legend:!1},{query:"requests_ip_source",type:"pie",legend:!0},{query:"latencty_date_histogram",type:"line",fill:!0,legend:!0},{query:"errors_histogram",type:"bar",legend:!1},{query:"cpu_date_histogram",type:"line",fill:!0,legend:!0},{query:"mem_date_histogram",type:"line",fill:!0,legend:!0},{query:"bandwidth_date_histogram",type:"line",legend:!1}],l={api_requests_number:"Appels API",api_requests_date_histogram:"Requ\xEAtes",decision_uniq_number:"D\xE9cisions consult\xE9es",errors_histogram:"Erreurs http",requests_ip_source:"Canal d'appel",latencty_date_histogram:"Latence",cpu_date_histogram:"CPU %",mem_date_histogram:"M\xE9moire",bandwidth_date_histogram:"R\xE9seau (octets)",top_words:"Recherches",pods_number:"Conteneurs"},a=[{label:"Dernier jour",start:"now-1d",end:"now",step:"1h"},{label:"Derni\xE8re heure",start:"now-1h",end:"now",step:"1m"},{label:"Derni\xE8re semaine",start:"now-7d",end:"now",step:"4h"},{label:"Dernier mois",start:"now-30d",end:"now",step:"1d"},{label:"Depuis le d\xE9but",start:"2020-01-01T00:00:00",end:"now",step:"1d"}],n=[{label:"Production",name:"judilibre-scw-prod-par2"},{label:"Secours",name:"judilibre-scw-prod-par1"},{label:"Recette",name:"judilibre-scw-dev-par1"}];let i=a[0],c=n[0],w={},y={};const f=(k,b,D,H,Y)=>{if(D==="time_series"){let T=0,N={};return k.forEach(K=>{Object.keys(K).forEach(Q=>{Q!=="date"&&(N[Q]=!0)})}),N=Object.keys(N),N.includes("Mem.total")&&(N=["Mem.used.min","Mem.used.mean","Mem.used.max","Mem.total"]),{datasets:N.map(K=>({data:k.map(Q=>{if(Q[K])return{x:new Date(Q.date),y:Q[K]}}),label:K,borderColor:C[T++],borderWidth:Y?0:void 0,fill:Y?"origin":void 0,backgroundColor:Y?`#000091${9-2*T}${9-2*T}`:void 0}))}}else return{datasets:[{data:Object.keys(k).map(T=>k[T]),backgroundColor:C,borderWidth:0,label:l[b]}],labels:Object.keys(k).map(T=>P(T))}},_=k=>Object.keys(k).filter(D=>D.length>1).map(D=>({text:D,count:k[D]})),E={"80.87.226.10":"courdecassation.fr","185.24.185.49":"piste.gouv.fr"},P=k=>E[k]||k,S={responsive:!0,maintainAspectRatio:!1,animation:{duration:0},interaction:{mode:"index"},hover:{intersect:!1},elements:{point:{radius:0},line:{tension:.15}}},O={"F-blue-soft":"#5770BE","N-orange-dark":"#E18863","E-green-soft":"#00AC8C","L-yellow-dark":"#FDCF41","Q-brown":"#A26859","J-pink-light":"#FFC29E","$blue-france":"#000091","$red-marianne":"#E1000F","A-green-warm":"#958B62","B-green-light":"#91AE4F","C-green-warm":"#169B62","G-blue-dark":"#484D7A","H-pink-soft":"#FF8D7E","I-pink-dark":"#D08A77","K-yellow-medium":"#FFE800","M-orange-medium":"#FF9940","O-orange-soft":"#FF6F4C","P-purple":"#7D4E5B"},C=Object.keys(O).map(k=>O[k]);function X(){i=Ke(this),t(0,i),t(6,a)}function F(){c=Ke(this),t(1,c),t(7,n)}return r.$$.update=()=>{r.$$.dirty[0]&3&&(i||c)&&s.forEach(k=>{t(3,y[k.query]=!0,y),fetch(new Request(`https://monitor.judilibre.io/stats?query=${k.query}&date_start=${i.start}&date_end=${i.end}&date_interval=${i.step}&cluster=${c.name}&size=${xt}`,{method:"GET",referer:"https://stats.judilibre.io",mode:"cors"})).then(b=>{if(b.ok)return b.json().then(D=>{t(2,w[k.query]=D[k.query],w),t(3,y[k.query]=!1,y)})})})},[i,c,w,y,s,l,a,n,f,_,S,X,F]}class ts extends se{constructor(e){super();re(this,e,es,$t,le,{},null,[-1,-1])}}function ss(r){let e,t,s,l,a,n,i;return n=new ts({}),{c(){e=R(),t=v("section"),s=v("div"),l=v("div"),a=v("div"),ie(n.$$.fragment),this.h()},l(c){jt('[data-svelte="svelte-9qr2em"]',document.head).forEach(d),e=J(c),t=g(c,"SECTION",{});var y=p(t);s=g(y,"DIV",{class:!0});var f=p(s);l=g(f,"DIV",{class:!0});var _=p(l);a=g(_,"DIV",{class:!0});var E=p(a);ce(n.$$.fragment,E),E.forEach(d),_.forEach(d),f.forEach(d),y.forEach(d),this.h()},h(){document.title="API Judilibre - statistiques",m(a,"class","fr-col-12 fr-mt-2w"),m(l,"class","fr-grid-row fr-grid-row--gutters fr-grid-row--center"),m(s,"class","fr-container")},m(c,w){B(c,e,w),B(c,t,w),h(t,s),h(s,l),h(l,a),de(n,a,null),i=!0},p:G,i(c){i||(A(n.$$.fragment,c),i=!0)},o(c){L(n.$$.fragment,c),i=!1},d(c){c&&d(e),c&&d(t),ue(n)}}}const as=!0;class ns extends se{constructor(e){super();re(this,e,null,ss,le,{})}}export{ns as default,as as prerender};

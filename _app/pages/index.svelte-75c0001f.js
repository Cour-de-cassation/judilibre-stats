var Mt=Object.defineProperty,jt=Object.defineProperties;var At=Object.getOwnPropertyDescriptors;var Ke=Object.getOwnPropertySymbols;var Ft=Object.prototype.hasOwnProperty,Pt=Object.prototype.propertyIsEnumerable;var Ge=(r,e,t)=>e in r?Mt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ne=(r,e)=>{for(var t in e||(e={}))Ft.call(e,t)&&Ge(r,t,e[t]);if(Ke)for(var t of Ke(e))Pt.call(e,t)&&Ge(r,t,e[t]);return r},ye=(r,e)=>jt(r,At(e));import{S as ae,i as oe,s as ce,I as Qe,e as y,k as ee,c as w,a as v,d as u,m as te,b as d,g as j,G as g,J as Xe,K as Ye,L as $e,q as R,o as K,f as Y,H as $,M as Ie,N as Nt,O as Wt,P as Ce,t as T,h as H,Q as Ve,R as Lt,T as zt,U as Bt,V as Tt,W as Ht,X as Rt,Y as Ut,Z as Jt,_ as Zt,$ as Kt,a0 as Gt,a1 as Qt,a2 as Xt,a3 as xe,a4 as we,a5 as Ee,l as ve,j as pe,a6 as me,w as ue,x as fe,y as de,B as he,a7 as et,a8 as Se,a9 as tt,n as Oe,p as Me,aa as Yt,ab as lt,ac as $t,ad as rt,ae as xt,af as st,ag as el}from"../chunks/vendor-597b7e8a.js";import{c as _e}from"../chunks/singletons-d1fb5791.js";const je="24h",Ae="production",tl=r=>({}),it=r=>({}),ll=r=>({}),nt=r=>({});function rl(r){let e,t,l,s,i,n;const c=r[1].title,a=Qe(c,r,r[0],nt),_=r[1].desc,f=Qe(_,r,r[0],it);return{c(){e=y("div"),t=y("div"),l=y("h4"),a&&a.c(),s=ee(),i=y("p"),f&&f.c(),this.h()},l(o){e=w(o,"DIV",{class:!0});var p=v(e);t=w(p,"DIV",{class:!0});var b=v(t);l=w(b,"H4",{class:!0});var V=v(l);a&&a.l(V),V.forEach(u),s=te(b),i=w(b,"P",{class:!0});var D=v(i);f&&f.l(D),D.forEach(u),b.forEach(u),p.forEach(u),this.h()},h(){d(l,"class","fr-tile__title"),d(i,"class","rf-tile__desc fr-mt-0 fr-mb-0"),d(t,"class","fr-tile__body"),d(e,"class","fr-tile")},m(o,p){j(o,e,p),g(e,t),g(t,l),a&&a.m(l,null),g(t,s),g(t,i),f&&f.m(i,null),n=!0},p(o,[p]){a&&a.p&&(!n||p&1)&&Xe(a,c,o,o[0],n?$e(c,o[0],p,ll):Ye(o[0]),nt),f&&f.p&&(!n||p&1)&&Xe(f,_,o,o[0],n?$e(_,o[0],p,tl):Ye(o[0]),it)},i(o){n||(R(a,o),R(f,o),n=!0)},o(o){K(a,o),K(f,o),n=!1},d(o){o&&u(e),a&&a.d(o),f&&f.d(o)}}}function sl(r,e,t){let{$$slots:l={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,l]}class il extends ae{constructor(e){super();oe(this,e,sl,rl,ce,{})}}function nl(r){let e;return{c(){e=y("canvas"),this.h()},l(t){e=w(t,"CANVAS",{style:!0}),v(e).forEach(u),this.h()},h(){Y(e,"height",r[0]||"250px")},m(t,l){j(t,e,l),r[5](e)},p(t,[l]){l&1&&Y(e,"height",t[0]||"250px")},i:$,o:$,d(t){t&&u(e),r[5](null)}}}function al(r,e,t){let{type:l="line"}=e,{data:s}=e,{height:i}=e,{options:n={}}=e;Ie.register(...Nt),Ie.register(Wt),Ie.defaults.font.family='"Marianne"';let c,a,_;function f(){_=c.getContext("2d"),a?(a.data=s,a.update()):a=new Ie(_,{type:l,data:s,options:n})}function o(p){Ce[p?"unshift":"push"](()=>{c=p,t(1,c)})}return r.$$set=p=>{"type"in p&&t(2,l=p.type),"data"in p&&t(3,s=p.data),"height"in p&&t(0,i=p.height),"options"in p&&t(4,n=p.options)},r.$$.update=()=>{r.$$.dirty&8&&s&&f()},[i,c,l,s,n,o]}class ol extends ae{constructor(e){super();oe(this,e,al,nl,ce,{type:2,data:3,height:0,options:4})}}function at(r){let e;return{c(){e=T("(pas de requ\xEAte)")},l(t){e=H(t,"(pas de requ\xEAte)")},m(t,l){j(t,e,l)},d(t){t&&u(e)}}}function cl(r){let e,t=r[0]&&r[0].length===0&&at();return{c(){e=y("div"),t&&t.c(),this.h()},l(l){e=w(l,"DIV",{id:!0,style:!0,class:!0});var s=v(e);t&&t.l(s),s.forEach(u),this.h()},h(){d(e,"id","wordcloud"),Y(e,"height","100%"),Y(e,"max-height",(r[1]||250)+"px"),Y(e,"display","block"),Y(e,"margin","auto"),d(e,"class","svelte-f0olj7"),Ve(e,"inactive",r[2])},m(l,s){j(l,e,s),t&&t.m(e,null)},p(l,[s]){l[0]&&l[0].length===0?t||(t=at(),t.c(),t.m(e,null)):t&&(t.d(1),t=null),s&2&&Y(e,"max-height",(l[1]||250)+"px"),s&4&&Ve(e,"inactive",l[2])},i:$,o:$,d(l){l&&u(e),t&&t.d()}}}function ul(r,e,t){const l=Lt(),s={schemeCategory10:Bt,schemeAccent:Tt,schemeDark2:Ht,schemePaired:Rt,schemePastel1:Ut,schemePastel2:Jt,schemeSet1:Zt,schemeSet2:Kt,schemeSet3:Gt,schemeTableau10:Qt};let{words:i}=e,{viewboxHeight:n=900}=e,{viewboxWidth:c=1600}=e,{height:a=250}=e,{font:_='"Marianne"'}=e,{maxFontSize:f=250}=e,{maxWeight:o=800}=e,{scheme:p="schemeTableau10"}=e,{padding:b=4}=e,V=!1,D="";const k=zt(s[p]),I=S=>l("click",S),U=S=>l("mouseover",S),J=S=>l("mouseout",S),se=S=>l("mousemove",S);let Q;const le=S=>{xe("#wordcloud").append("svg").attr("viewBox",`0 0 ${c} ${n}`).attr("width","100%").attr("height","100%").classed("svg-content-responsive",!0).append("g").attr("transform","translate("+Q.size()[0]/2+","+Q.size()[1]/2+")").selectAll("text").data(S).enter().append("text").style("font-size",N=>N.size+"px").style("font-weight",N=>N.weight).style("font-family",_).style("fill",(N,E)=>k(E)).attr("text-anchor","middle").attr("transform",N=>"translate("+[N.x,N.y]+")rotate("+N.rotate+")").text(N=>N.text).on("click",I).on("mouseover",U).on("mouseout",J).on("mousemove",se)},x=()=>{if(i.length){t(2,V=!1),Q&&xe("#wordcloud").select("svg").remove(),t(10,D=JSON.stringify(i));const S=i.sort((q,L)=>L.count-q.count),N=S[0].count,E=f*10/S[0].text.length;Q=Xt().size([c,n]).words(S).padding(b).rotate(q=>q.text.length>20?0:~~(Math.random()*2)*90).font(_).fontSize(q=>Math.floor(Math.log(q.count+1)**3/Math.log(N+1)**3*E)).fontWeight(q=>Math.floor(Math.log(q.count+1)**3/Math.log(N+1)**3*o)).on("end",le),Q.start()}else t(10,D=JSON.stringify(i)),t(2,V=!0)};return r.$$set=S=>{"words"in S&&t(0,i=S.words),"viewboxHeight"in S&&t(3,n=S.viewboxHeight),"viewboxWidth"in S&&t(4,c=S.viewboxWidth),"height"in S&&t(1,a=S.height),"font"in S&&t(5,_=S.font),"maxFontSize"in S&&t(6,f=S.maxFontSize),"maxWeight"in S&&t(7,o=S.maxWeight),"scheme"in S&&t(8,p=S.scheme),"padding"in S&&t(9,b=S.padding)},r.$$.update=()=>{r.$$.dirty&1025&&i&&JSON.stringify(i)!==D&&x()},[i,a,V,n,c,_,f,o,p,b,D]}class fl extends ae{constructor(e){super();oe(this,e,ul,cl,ce,{words:0,viewboxHeight:3,viewboxWidth:4,height:1,font:5,maxFontSize:6,maxWeight:7,scheme:8,padding:9})}}function ot(r,e,t){const l=r.slice();return l[8]=e[t],l[10]=t,l}function ct(r,e,t){const l=r.slice();return l[11]=e[t],l[13]=t,l}function ut(r){let e,t,l,s,i,n=r[0],c=[];for(let a=0;a<n.length;a+=1)c[a]=ht(ot(r,n,a));return{c(){e=we("svg"),t=we("text"),l=T(`Disponibilit\xE9
            `);for(let a=0;a<c.length;a+=1)c[a].c();this.h()},l(a){e=Ee(a,"svg",{height:!0,viewBox:!0});var _=v(e);t=Ee(_,"text",{x:!0,y:!0,"font-family":!0,"font-weight":!0,"font-size":!0,"text-anchor":!0,fill:!0});var f=v(t);l=H(f,`Disponibilit\xE9
            `),f.forEach(u);for(let o=0;o<c.length;o+=1)c[o].l(_);_.forEach(u),this.h()},h(){d(t,"x","800"),d(t,"y",s=70),d(t,"font-family","'Marianne'"),d(t,"font-weight","800"),d(t,"font-size","45"),d(t,"text-anchor","middle"),d(t,"fill","#6a6a6a"),d(e,"height",r[1]),d(e,"viewBox",i="0 0 "+r[3]+" "+r[2])},m(a,_){j(a,e,_),g(e,t),g(t,l);for(let f=0;f<c.length;f+=1)c[f].m(e,null)},p(a,_){if(_&113){n=a[0];let f;for(f=0;f<n.length;f+=1){const o=ot(a,n,f);c[f]?c[f].p(o,_):(c[f]=ht(o),c[f].c(),c[f].m(e,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=n.length}_&2&&d(e,"height",a[1]),_&12&&i!==(i="0 0 "+a[3]+" "+a[2])&&d(e,"viewBox",i)},d(a){a&&u(e),me(c,a)}}}function dl(r){let e,t=r[11]+"",l,s,i=Math.round((Number.EPSILON+r[0].map(_).reduce(gt,0))/r[0].length*100)/100+"",n,c,a;function _(...f){return r[7](r[11],...f)}return{c(){e=we("text"),l=T(t),s=T(" ("),n=T(i),c=T(` %)
                        `),this.h()},l(f){e=Ee(f,"text",{x:!0,y:!0,"font-family":!0,"font-size":!0,fill:!0});var o=v(e);l=H(o,t),s=H(o," ("),n=H(o,i),c=H(o,` %)
                        `),o.forEach(u),this.h()},h(){d(e,"x","0"),d(e,"y",a=r[6]+r[13]*(be+r[4])),d(e,"font-family","'Marianne'"),d(e,"font-size","45"),d(e,"fill","#6a6a6a")},m(f,o){j(f,e,o),g(e,l),g(e,s),g(e,n),g(e,c)},p(f,o){r=f,o&1&&t!==(t=r[11]+"")&&pe(l,t),o&1&&i!==(i=Math.round((Number.EPSILON+r[0].map(_).reduce(gt,0))/r[0].length*100)/100+"")&&pe(n,i),o&80&&a!==(a=r[6]+r[13]*(be+r[4]))&&d(e,"y",a)},d(f){f&&u(e)}}}function ft(r){let e=Math.round(Number.EPSILON+(100-r[8][r[11]])*r[8].dateInterval/6e6)+"",t,l;return{c(){t=T(e),l=T(" minutes d'indisponibilit\xE9")},l(s){t=H(s,e),l=H(s," minutes d'indisponibilit\xE9")},m(s,i){j(s,t,i),j(s,l,i)},p(s,i){i&1&&e!==(e=Math.round(Number.EPSILON+(100-s[8][s[11]])*s[8].dateInterval/(100*1e3*60))+"")&&pe(t,e)},d(s){s&&u(t),s&&u(l)}}}function dt(r){let e,t,l=new Date(r[8].date).toLocaleDateString("fr-FR",{timeZone:"Europe/Paris",weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minutes:"numeric"})+"",s,i,n=r[8][r[11]]+"",c,a,_,f,o,p,b,V=r[10]===0&&dl(r),D=r[8][r[11]]<100&&ft(r);return{c(){V&&V.c(),e=we("rect"),t=we("title"),s=T(l),i=T(` :
`),c=T(n),a=T(`%
`),D&&D.c(),this.h()},l(k){V&&V.l(k),e=Ee(k,"rect",{width:!0,height:!0,fill:!0,rx:!0,ry:!0,x:!0,y:!0});var I=v(e);t=Ee(I,"title",{});var U=v(t);s=H(U,l),i=H(U,` :
`),c=H(U,n),a=H(U,`%
`),D&&D.l(U),U.forEach(u),I.forEach(u),this.h()},h(){d(e,"width",_=r[5]*(1-re)),d(e,"height",f=r[4]*(1-re)),d(e,"fill",o=r[8][r[11]]===100?"#000091":"#e1000f"),d(e,"rx","10"),d(e,"ry","10"),d(e,"x",p=r[10]*r[5]+r[5]*re/2),d(e,"y",b=r[6]+r[13]*(be+r[4])+r[4]*re/2)},m(k,I){V&&V.m(k,I),j(k,e,I),g(e,t),g(t,s),g(t,i),g(t,c),g(t,a),D&&D.m(t,null)},p(k,I){k[10]===0&&V.p(k,I),I&1&&l!==(l=new Date(k[8].date).toLocaleDateString("fr-FR",{timeZone:"Europe/Paris",weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minutes:"numeric"})+"")&&pe(s,l),I&1&&n!==(n=k[8][k[11]]+"")&&pe(c,n),k[8][k[11]]<100?D?D.p(k,I):(D=ft(k),D.c(),D.m(t,null)):D&&(D.d(1),D=null),I&32&&_!==(_=k[5]*(1-re))&&d(e,"width",_),I&16&&f!==(f=k[4]*(1-re))&&d(e,"height",f),I&1&&o!==(o=k[8][k[11]]===100?"#000091":"#e1000f")&&d(e,"fill",o),I&32&&p!==(p=k[10]*k[5]+k[5]*re/2)&&d(e,"x",p),I&80&&b!==(b=k[6]+k[13]*(be+k[4])+k[4]*re/2)&&d(e,"y",b)},d(k){V&&V.d(k),k&&u(e),D&&D.d()}}}function ht(r){let e,t=Object.keys(r[8]).filter(_t),l=[];for(let s=0;s<t.length;s+=1)l[s]=dt(ct(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ve()},l(s){for(let i=0;i<l.length;i+=1)l[i].l(s);e=ve()},m(s,i){for(let n=0;n<l.length;n+=1)l[n].m(s,i);j(s,e,i)},p(s,i){if(i&113){t=Object.keys(s[8]).filter(_t);let n;for(n=0;n<t.length;n+=1){const c=ct(s,t,n);l[n]?l[n].p(c,i):(l[n]=dt(c),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(s){me(l,s),s&&u(e)}}}function hl(r){let e,t=r[0]&&r[0].length&&ut(r);return{c(){e=y("div"),t&&t.c(),this.h()},l(l){e=w(l,"DIV",{style:!0});var s=v(e);t&&t.l(s),s.forEach(u),this.h()},h(){Y(e,"height","100%"),Y(e,"width","100%"),Y(e,"max-height",r[1]+"px"),Y(e,"display","flex"),Y(e,"justify-content","center")},m(l,s){j(l,e,s),t&&t.m(e,null)},p(l,[s]){l[0]&&l[0].length?t?t.p(l,s):(t=ut(l),t.c(),t.m(e,null)):t&&(t.d(1),t=null),s&2&&Y(e,"max-height",l[1]+"px")},i:$,o:$,d(l){l&&u(e),t&&t.d()}}}const re=.2,be=40,_t=r=>!["date","dateInterval"].includes(r),gt=(r,e)=>r+e;function _l(r,e,t){let{data:l}=e,{height:s=250}=e,{viewboxHeight:i=900}=e,{viewboxWidth:n=1600}=e,c=160,a,_;const f=(o,p)=>p[o];return r.$$set=o=>{"data"in o&&t(0,l=o.data),"height"in o&&t(1,s=o.height),"viewboxHeight"in o&&t(2,i=o.viewboxHeight),"viewboxWidth"in o&&t(3,n=o.viewboxWidth)},r.$$.update=()=>{r.$$.dirty&5&&t(4,c=(l&&l.length?Math.min(160,i*.7/(Object.keys(l[0]).length-1)):160)-be),r.$$.dirty&9&&t(5,a=l&&l.length?n/l.length:90),r.$$.dirty&21&&t(6,_=140+(l&&l.length?(i-(be+c)*(Object.keys(l[0]).length-1))/2:0))},[l,s,i,n,c,a,_,f]}class gl extends ae{constructor(e){super();oe(this,e,_l,hl,ce,{data:0,height:1,viewboxHeight:2,viewboxWidth:3})}}function mt(r){let e;function t(i,n){return i[1]?vl:ml}let l=t(r),s=l(r);return{c(){s.c(),e=ve()},l(i){s.l(i),e=ve()},m(i,n){s.m(i,n),j(i,e,n)},p(i,n){l!==(l=t(i))&&(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){s.d(i),i&&u(e)}}}function ml(r){let e,t,l,s,i;return{c(){e=y("div"),t=y("div"),l=y("div"),s=y("div"),i=y("div"),this.h()},l(n){e=w(n,"DIV",{class:!0});var c=v(e);t=w(c,"DIV",{class:!0}),v(t).forEach(u),l=w(c,"DIV",{class:!0}),v(l).forEach(u),s=w(c,"DIV",{class:!0}),v(s).forEach(u),i=w(c,"DIV",{class:!0}),v(i).forEach(u),c.forEach(u),this.h()},h(){d(t,"class","svelte-a6xc0h"),d(l,"class","svelte-a6xc0h"),d(s,"class","svelte-a6xc0h"),d(i,"class","svelte-a6xc0h"),d(e,"class","lds-ellipsis svelte-a6xc0h")},m(n,c){j(n,e,c),g(e,t),g(e,l),g(e,s),g(e,i)},d(n){n&&u(e)}}}function vl(r){let e,t,l,s,i,n,c,a,_,f,o,p,b,V;return{c(){e=y("div"),t=y("div"),l=y("div"),s=y("div"),i=y("div"),n=y("div"),c=y("div"),a=y("div"),_=y("div"),f=y("div"),o=y("div"),p=y("div"),b=y("div"),V=y("div"),this.h()},l(D){e=w(D,"DIV",{class:!0});var k=v(e);t=w(k,"DIV",{class:!0});var I=v(t);l=w(I,"DIV",{class:!0}),v(l).forEach(u),s=w(I,"DIV",{class:!0}),v(s).forEach(u),i=w(I,"DIV",{class:!0}),v(i).forEach(u),n=w(I,"DIV",{class:!0}),v(n).forEach(u),c=w(I,"DIV",{class:!0}),v(c).forEach(u),a=w(I,"DIV",{class:!0}),v(a).forEach(u),_=w(I,"DIV",{class:!0}),v(_).forEach(u),f=w(I,"DIV",{class:!0}),v(f).forEach(u),o=w(I,"DIV",{class:!0}),v(o).forEach(u),p=w(I,"DIV",{class:!0}),v(p).forEach(u),b=w(I,"DIV",{class:!0}),v(b).forEach(u),V=w(I,"DIV",{class:!0}),v(V).forEach(u),I.forEach(u),k.forEach(u),this.h()},h(){d(l,"class","svelte-a6xc0h"),d(s,"class","svelte-a6xc0h"),d(i,"class","svelte-a6xc0h"),d(n,"class","svelte-a6xc0h"),d(c,"class","svelte-a6xc0h"),d(a,"class","svelte-a6xc0h"),d(_,"class","svelte-a6xc0h"),d(f,"class","svelte-a6xc0h"),d(o,"class","svelte-a6xc0h"),d(p,"class","svelte-a6xc0h"),d(b,"class","svelte-a6xc0h"),d(V,"class","svelte-a6xc0h"),d(t,"class","lds-spinner svelte-a6xc0h"),d(e,"class","load-content svelte-a6xc0h")},m(D,k){j(D,e,k),g(e,t),g(t,l),g(t,s),g(t,i),g(t,n),g(t,c),g(t,a),g(t,_),g(t,f),g(t,o),g(t,p),g(t,b),g(t,V)},d(D){D&&u(e)}}}function pl(r){let e,t=r[0]&&mt(r);return{c(){e=y("div"),t&&t.c(),this.h()},l(l){e=w(l,"DIV",{class:!0});var s=v(e);t&&t.l(s),s.forEach(u),this.h()},h(){d(e,"class","svelte-a6xc0h"),Ve(e,"fulldiv-container",r[0]&&r[1])},m(l,s){j(l,e,s),t&&t.m(e,null)},p(l,[s]){l[0]?t?t.p(l,s):(t=mt(l),t.c(),t.m(e,null)):t&&(t.d(1),t=null),s&3&&Ve(e,"fulldiv-container",l[0]&&l[1])},i:$,o:$,d(l){l&&u(e),t&&t.d()}}}function bl(r,e,t){let{show:l=!1}=e,{fulldiv:s=!0}=e;return r.$$set=i=>{"show"in i&&t(0,l=i.show),"fulldiv"in i&&t(1,s=i.fulldiv)},[l,s]}class Vt extends ae{constructor(e){super();oe(this,e,bl,pl,ce,{show:0,fulldiv:1})}}function vt(r,e,t){const l=r.slice();return l[25]=e[t],l[27]=t,l}function pt(r,e,t){const l=r.slice();return l[25]=e[t],l[27]=t,l}function bt(r,e,t){const l=r.slice();return l[29]=e[t],l}function yt(r,e,t){const l=r.slice();return l[32]=e[t],l}function wt(r){let e,t=r[4][r[32]].label+"",l,s,i;return{c(){e=y("option"),l=T(t),s=ee(),this.h()},l(n){e=w(n,"OPTION",{});var c=v(e);l=H(c,t),s=te(c),c.forEach(u),this.h()},h(){e.__value=i=r[32],e.value=e.__value},m(n,c){j(n,e,c),g(e,l),g(e,s)},p:$,d(n){n&&u(e)}}}function Et(r){let e,t=r[29].slice(0,1).toUpperCase()+r[29].slice(1)+"",l,s,i;return{c(){e=y("option"),l=T(t),s=ee(),this.h()},l(n){e=w(n,"OPTION",{});var c=v(e);l=H(c,t),s=te(c),c.forEach(u),this.h()},h(){e.__value=i=r[29],e.value=e.__value},m(n,c){j(n,e,c),g(e,l),g(e,s)},p:$,d(n){n&&u(e)}}}function yl(r){let e,t;return e=new Vt({props:{show:r[3][r[25].query],fulldiv:!1}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,s){de(e,l,s),t=!0},p(l,s){const i={};s[0]&8&&(i.show=l[3][l[25].query]),e.$set(i)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function wl(r){let e=(r[25].type==="date"?r[2][r[25].query].data.replace(/(....)-(..)-(..)/,"$3/$2/$1"):r[2][r[25].query].data)+"",t,l,s=r[25].type==="percentage"&&El();return{c(){t=T(e),s&&s.c(),l=ve()},l(i){t=H(i,e),s&&s.l(i),l=ve()},m(i,n){j(i,t,n),s&&s.m(i,n),j(i,l,n)},p(i,n){n[0]&4&&e!==(e=(i[25].type==="date"?i[2][i[25].query].data.replace(/(....)-(..)-(..)/,"$3/$2/$1"):i[2][i[25].query].data)+"")&&pe(t,e)},i:$,o:$,d(i){i&&u(t),s&&s.d(i),i&&u(l)}}}function El(r){let e;return{c(){e=T("%")},l(t){e=H(t,"%")},m(t,l){j(t,e,l)},d(t){t&&u(e)}}}function Dl(r){let e,t,l,s;const i=[wl,yl],n=[];function c(a,_){return a[2][a[25].query]&&!a[3][a[25].query]?0:1}return t=c(r),l=n[t]=i[t](r),{c(){e=y("span"),l.c(),this.h()},l(a){e=w(a,"SPAN",{slot:!0});var _=v(e);l.l(_),_.forEach(u),this.h()},h(){d(e,"slot","title")},m(a,_){j(a,e,_),n[t].m(e,null),s=!0},p(a,_){let f=t;t=c(a),t===f?n[t].p(a,_):(Oe(),K(n[f],1,1,()=>{n[f]=null}),Me(),l=n[t],l?l.p(a,_):(l=n[t]=i[t](a),l.c()),R(l,1),l.m(e,null))},i(a){s||(R(l),s=!0)},o(a){K(l),s=!1},d(a){a&&u(e),n[t].d()}}}function kl(r){let e,t=r[7][r[25].query]+"",l;return{c(){e=y("span"),l=T(t),this.h()},l(s){e=w(s,"SPAN",{slot:!0});var i=v(e);l=H(i,t),i.forEach(u),this.h()},h(){d(e,"slot","desc")},m(s,i){j(s,e,i),g(e,l)},p:$,d(s){s&&u(e)}}}function Dt(r){let e,t,l,s;return t=new il({props:{$$slots:{desc:[kl],title:[Dl]},$$scope:{ctx:r}}}),{c(){e=y("div"),ue(t.$$.fragment),l=ee(),this.h()},l(i){e=w(i,"DIV",{class:!0});var n=v(e);fe(t.$$.fragment,n),l=te(n),n.forEach(u),this.h()},h(){d(e,"class","fr-col loader-parent")},m(i,n){j(i,e,n),de(t,e,null),g(e,l),s=!0},p(i,n){const c={};n[0]&12|n[1]&16&&(c.$$scope={dirty:n,ctx:i}),t.$set(c)},i(i){s||(R(t.$$.fragment,i),s=!0)},o(i){K(t.$$.fragment,i),s=!1},d(i){i&&u(e),he(t)}}}function ql(r){let e,t;return e=new gl({props:{data:r[2][r[25].query]&&r[2][r[25].query].data}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,s){de(e,l,s),t=!0},p(l,s){const i={};s[0]&4&&(i.data=l[2][l[25].query]&&l[2][l[25].query].data),e.$set(i)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Il(r){let e,t;return e=new fl({props:{words:r[2][r[25].query]&&r[9](r[2][r[25].query].data)}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,s){de(e,l,s),t=!0},p(l,s){const i={};s[0]&4&&(i.words=l[2][l[25].query]&&l[9](l[2][l[25].query].data)),e.$set(i)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Sl(r){let e,t;return e=new ol({props:{height:r[25].height,type:r[25].type,data:r[2][r[25].query]&&r[8](r[2][r[25].query].data,r[25].query,r[2][r[25].query].type,r[25].type,r[25].fill),options:ne({plugins:{datalabels:{color:"#ffffff"},title:{display:!0,text:r[7][r[25].query]},legend:{display:r[25].legend}}},r[2][r[25].query]&&r[2][r[25].query].type==="time_series"?ye(ne({},r[10]),{scales:{x:{type:"time",stacked:!0},y:{stacked:!0,beginAtZero:r[25].type==="bar"}}}):ye(ne({},r[10]),{indexAxis:r[25].indexAxis||"x"}))}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,s){de(e,l,s),t=!0},p(l,s){const i={};s[0]&4&&(i.data=l[2][l[25].query]&&l[8](l[2][l[25].query].data,l[25].query,l[2][l[25].query].type,l[25].type,l[25].fill)),s[0]&4&&(i.options=ne({plugins:{datalabels:{color:"#ffffff"},title:{display:!0,text:l[7][l[25].query]},legend:{display:l[25].legend}}},l[2][l[25].query]&&l[2][l[25].query].type==="time_series"?ye(ne({},l[10]),{scales:{x:{type:"time",stacked:!0},y:{stacked:!0,beginAtZero:l[25].type==="bar"}}}):ye(ne({},l[10]),{indexAxis:l[25].indexAxis||"x"}))),e.$set(i)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function kt(r){let e,t,l,s,i,n,c;t=new Vt({props:{show:r[3][r[25].query]&&r[2][r[25].query]}});const a=[Sl,Il,ql],_=[];function f(o,p){return["bar","line","pie"].includes(o[25].type)?0:o[25].type==="wordCloud"?1:o[25].type==="cells"?2:-1}return~(s=f(r))&&(i=_[s]=a[s](r)),{c(){e=y("div"),ue(t.$$.fragment),l=ee(),i&&i.c(),n=ee(),this.h()},l(o){e=w(o,"DIV",{class:!0});var p=v(e);fe(t.$$.fragment,p),l=te(p),i&&i.l(p),n=te(p),p.forEach(u),this.h()},h(){d(e,"class","fr-col-12 fr-col-md-6 loader-parent")},m(o,p){j(o,e,p),de(t,e,null),g(e,l),~s&&_[s].m(e,null),g(e,n),c=!0},p(o,p){const b={};p[0]&12&&(b.show=o[3][o[25].query]&&o[2][o[25].query]),t.$set(b),i&&i.p(o,p)},i(o){c||(R(t.$$.fragment,o),R(i),c=!0)},o(o){K(t.$$.fragment,o),K(i),c=!1},d(o){o&&u(e),he(t),~s&&_[s].d()}}}function Vl(r){let e,t,l,s,i,n,c,a,_,f,o,p,b,V,D,k,I,U,J,se,Q,le,x,S,N,E,q,L,Z,A,z=Object.keys(r[4]),C=[];for(let m=0;m<z.length;m+=1)C[m]=wt(yt(r,z,m));let B=r[5],O=[];for(let m=0;m<B.length;m+=1)O[m]=Et(bt(r,B,m));let W=r[6].filter(qt),F=[];for(let m=0;m<W.length;m+=1)F[m]=Dt(pt(r,W,m));const Ct=m=>K(F[m],1,1,()=>{F[m]=null});let ie=r[6].filter(It),P=[];for(let m=0;m<ie.length;m+=1)P[m]=kt(vt(r,ie,m));const Ot=m=>K(P[m],1,1,()=>{P[m]=null});return{c(){e=y("div"),t=y("div"),l=y("div"),s=y("div"),i=y("div"),n=y("div"),c=y("div"),a=y("div"),_=y("div"),f=y("label"),o=T("Plage de dates"),p=ee(),b=y("select");for(let m=0;m<C.length;m+=1)C[m].c();V=ee(),D=y("div"),k=y("label"),I=T("Environnement"),U=ee(),J=y("select");for(let m=0;m<O.length;m+=1)O[m].c();se=ee(),Q=y("div"),le=y("div"),x=y("div");for(let m=0;m<F.length;m+=1)F[m].c();S=ee(),N=y("div"),E=y("div"),q=y("div");for(let m=0;m<P.length;m+=1)P[m].c();this.h()},l(m){e=w(m,"DIV",{class:!0});var M=v(e);t=w(M,"DIV",{class:!0});var h=v(t);l=w(h,"DIV",{class:!0});var X=v(l);s=w(X,"DIV",{class:!0});var Fe=v(s);i=w(Fe,"DIV",{class:!0});var ge=v(i);n=w(ge,"DIV",{class:!0});var Pe=v(n);c=w(Pe,"DIV",{class:!0});var Ne=v(c);a=w(Ne,"DIV",{class:!0});var De=v(a);_=w(De,"DIV",{class:!0});var ke=v(_);f=w(ke,"LABEL",{class:!0,for:!0});var We=v(f);o=H(We,"Plage de dates"),We.forEach(u),p=te(ke),b=w(ke,"SELECT",{id:!0,class:!0});var Le=v(b);for(let G=0;G<C.length;G+=1)C[G].l(Le);Le.forEach(u),ke.forEach(u),V=te(De),D=w(De,"DIV",{class:!0});var qe=v(D);k=w(qe,"LABEL",{class:!0,for:!0});var ze=v(k);I=H(ze,"Environnement"),ze.forEach(u),U=te(qe),J=w(qe,"SELECT",{id:!0,class:!0});var Be=v(J);for(let G=0;G<O.length;G+=1)O[G].l(Be);Be.forEach(u),qe.forEach(u),De.forEach(u),Ne.forEach(u),Pe.forEach(u),se=te(ge),Q=w(ge,"DIV",{class:!0});var Te=v(Q);le=w(Te,"DIV",{class:!0});var He=v(le);x=w(He,"DIV",{class:!0});var Re=v(x);for(let G=0;G<F.length;G+=1)F[G].l(Re);Re.forEach(u),He.forEach(u),Te.forEach(u),S=te(ge),N=w(ge,"DIV",{class:!0});var Ue=v(N);E=w(Ue,"DIV",{class:!0});var Je=v(E);q=w(Je,"DIV",{class:!0});var Ze=v(q);for(let G=0;G<P.length;G+=1)P[G].l(Ze);Ze.forEach(u),Je.forEach(u),Ue.forEach(u),ge.forEach(u),Fe.forEach(u),X.forEach(u),h.forEach(u),M.forEach(u),this.h()},h(){d(f,"class","fr-label"),d(f,"for","date"),d(b,"id","date"),d(b,"class","fr-select"),r[0]===void 0&&et(()=>r[11].call(b)),d(_,"class","fr-col-6"),d(k,"class","fr-label"),d(k,"for","env"),d(J,"id","env"),d(J,"class","fr-select"),r[1]===void 0&&et(()=>r[12].call(J)),d(D,"class","fr-col-6"),d(a,"class","fr-grid-row fr-grid-row--gutters"),d(c,"class","fr-container fr-container--fluid"),d(n,"class","fr-col-12"),d(x,"class","fr-grid-row fr-grid-row--gutters fr-grid-row--center"),d(le,"class","fr-container fr-container--fluid"),d(Q,"class","fr-col-12"),d(q,"class","fr-grid-row fr-grid-row--gutters fr-grid-row--center"),d(E,"class","fr-container fr-container--fluid"),d(N,"class","fr-col-12"),d(i,"class","fr-grid-row fr-grid-row--gutters fr-grid-row--center"),d(s,"class","fr-container fr-container--fluid"),d(l,"class","fr-col-12"),d(t,"class","fr-grid-row fr-grid-row--gutters"),d(e,"class","fr-container fr-container--fluid")},m(m,M){j(m,e,M),g(e,t),g(t,l),g(l,s),g(s,i),g(i,n),g(n,c),g(c,a),g(a,_),g(_,f),g(f,o),g(_,p),g(_,b);for(let h=0;h<C.length;h+=1)C[h].m(b,null);Se(b,r[0]),g(a,V),g(a,D),g(D,k),g(k,I),g(D,U),g(D,J);for(let h=0;h<O.length;h+=1)O[h].m(J,null);Se(J,r[1]),g(i,se),g(i,Q),g(Q,le),g(le,x);for(let h=0;h<F.length;h+=1)F[h].m(x,null);g(i,S),g(i,N),g(N,E),g(E,q);for(let h=0;h<P.length;h+=1)P[h].m(q,null);L=!0,Z||(A=[tt(b,"change",r[11]),tt(J,"change",r[12])],Z=!0)},p(m,M){if(M[0]&16){z=Object.keys(m[4]);let h;for(h=0;h<z.length;h+=1){const X=yt(m,z,h);C[h]?C[h].p(X,M):(C[h]=wt(X),C[h].c(),C[h].m(b,null))}for(;h<C.length;h+=1)C[h].d(1);C.length=z.length}if(M[0]&17&&Se(b,m[0]),M[0]&32){B=m[5];let h;for(h=0;h<B.length;h+=1){const X=bt(m,B,h);O[h]?O[h].p(X,M):(O[h]=Et(X),O[h].c(),O[h].m(J,null))}for(;h<O.length;h+=1)O[h].d(1);O.length=B.length}if(M[0]&34&&Se(J,m[1]),M[0]&204){W=m[6].filter(qt);let h;for(h=0;h<W.length;h+=1){const X=pt(m,W,h);F[h]?(F[h].p(X,M),R(F[h],1)):(F[h]=Dt(X),F[h].c(),R(F[h],1),F[h].m(x,null))}for(Oe(),h=W.length;h<F.length;h+=1)Ct(h);Me()}if(M[0]&1996){ie=m[6].filter(It);let h;for(h=0;h<ie.length;h+=1){const X=vt(m,ie,h);P[h]?(P[h].p(X,M),R(P[h],1)):(P[h]=kt(X),P[h].c(),R(P[h],1),P[h].m(q,null))}for(Oe(),h=ie.length;h<P.length;h+=1)Ot(h);Me()}},i(m){if(!L){for(let M=0;M<W.length;M+=1)R(F[M]);for(let M=0;M<ie.length;M+=1)R(P[M]);L=!0}},o(m){F=F.filter(Boolean);for(let M=0;M<F.length;M+=1)K(F[M]);P=P.filter(Boolean);for(let M=0;M<P.length;M+=1)K(P[M]);L=!1},d(m){m&&u(e),me(C,m),me(O,m),me(F,m),me(P,m),Z=!1,Yt(A)}}}let Cl=50;const qt=r=>["number","percentage","date"].includes(r.type),It=r=>!["number","percentage","date"].includes(r.type);function Ol(r,e,t){let{since:l=je}=e,{env:s=Ae}=e;const i={"24h":{label:"Dernier jour",start:"now-1d",end:"now",step:"1h"},"1h":{label:"Derni\xE8re heure",start:"now-1h",end:"now",step:"1m"},"7j":{label:"Derni\xE8re semaine",start:"now-7d",end:"now",step:"4h"},"30j":{label:"Dernier mois",start:"now-30d",end:"now",step:"1d"},j0:{label:"Depuis le d\xE9but",start:"2021-10-01",end:"now",step:"1d"}},n=["production","secours","recette"],c={production:{"Piste production":"api-piste-gouv-fr","Scaleway production":"search-judilibre-io","Scaleway primaire":"search-prod-par2-judilibre-io","Scaleway secondaire":"search-prod-par1-judilibre-io"},recette:{"Piste sandbox":"sandbox-api-piste-gouv-fr","Scaleway recette":"search-dev-judilibre-io"}};c.secours=c.production;const a=[{query:"total_docs",type:"number"},{query:"last_decision_date",type:"date"},{query:"api_requests_number",type:"number"},{query:"decision_uniq_number",type:"number"},{query:"uptime",type:"percentage"},{query:"api_requests_date_histogram",type:"line",legend:!0},{query:"top_words",type:"wordCloud",height:"400px",col:12,legend:!1},{query:"requests_ip_source",type:"pie",legend:!0},{query:"piste",type:"bar",legend:!1},{query:"uptime_details",type:"cells"},{query:"errors_histogram",type:"bar",indexAxis:"y",legend:!1},{query:"latencty_date_histogram",type:"line",fill:!0,legend:!0},{query:"bandwidth_date_histogram",type:"line",legend:!1},{query:"cpu_date_histogram",type:"line",fill:!0,legend:!0},{query:"mem_date_histogram",type:"line",fill:!0,legend:!0}],_={total_docs:"D\xE9cisions index\xE9es",last_decision_date:"Date de la derni\xE8re d\xE9cision",api_requests_number:"Appels API",api_requests_date_histogram:"Requ\xEAtes",decision_uniq_number:"D\xE9cisions consult\xE9es",errors_histogram:"Erreurs http",requests_ip_source:"Canal d'appel",piste:"Utilisateurs Piste",latencty_date_histogram:"Latence",cpu_date_histogram:"CPU %",mem_date_histogram:"M\xE9moire",bandwidth_date_histogram:"R\xE9seau (octets)",top_words:"Recherches",pods_number:"Conteneurs",uptime:"Disponibilit\xE9"};let f={},o={};const p={d:1e3*24*60*60,h:1e3*3600,m:1e3*24*60*60*30,w:1e3*24*60*60*7,y:1e3*24*60*60*365,M:1e3*24*60},b=()=>{let E=[],q=V(i[l].start);const L=V(i[l].end),Z=D(i[l].step);for(;q<L;){let A=new Date(q.getTime()+Z);E.push({dateFrom:q,dateTo:A}),q=A}return E},V=E=>{const q=E.match(/^now(-(\d+)(m|h|d|y|w|M))?$/);if(q){if(E==="now")return new Date(Date.now());{const L=q[2],Z=p[q[3]];return new Date(Date.now()-L*Z)}}else return new Date(E)},D=E=>{const q=E.match(/^(\d+)(m|h|d|y|w|M)$/);if(q){const L=q[1],Z=p[q[2]];return L*Z}else return 60*1e3},k=()=>{a.filter(E=>E.query!=="uptime_details").forEach(async E=>{if(t(3,o[E.query]=!0,o),E.query!=="uptime"){const q=await fetch(`https://stats-api.judilibre.io/stats?query=${E.query}&date_start=${i[l].start}&date_end=${i[l].end}&date_interval=${i[l].step}&env=${s}&size=${Cl}`);if(q.ok){const L=await q.json();t(2,f[E.query]=await L[E.query],f),t(3,o[E.query]=!1,o)}}else{const q=c[s],L={};await Promise.all(Object.keys(q).map(async(A,z)=>{const C=await fetch(`https://api.github.com/repos/Cour-de-cassation/judilibre-uptime/issues?state=closed&filter=all&sort=created&direction=desc&labels=status%2C${q[A]}-healthcheck`);C.ok&&(L[A]=await C.json())}));const Z=D(i[l].step);t(3,o.uptime_details=!0,o),t(2,f.uptime_details={type:"time_series",data:b().map(A=>{const z={date:A.dateFrom.toISOString(),dateInterval:Z};return Object.keys(q).forEach(C=>{z[C]=Math.round((Number.EPSILON+1-1/Z*L[C].filter(B=>B.title.includes("down")).map(B=>{const O=new Date(B.created_at),W=B.closed_at&&new Date(B.closed_at)||new Date(Date.now());return A.dateTo<O||A.dateFrom>W?0:(A.dateTo>W?W:A.dateTo).getTime()-(A.dateFrom>O?A.dateFrom:O).getTime()}).reduce((B,O)=>B+O,0))*1e4)/100}),z})},f),t(2,f.uptime={type:"number",data:Math.round(100*(Number.EPSILON+f.uptime_details.data.map(A=>A[Object.keys(c[s])[0]]).reduce((A,z)=>A+z,0)/f.uptime_details.data.length))/100},f),t(3,o[E.query]=!1,o),t(3,o.uptime_details=!1,o)}})},I=(E,q,L,Z,A)=>{if(L==="time_series"){let z=0,C={};E.forEach(O=>{Object.keys(O).forEach(W=>{W!=="date"&&(C[W]=!0)})}),C=Object.keys(C),C.includes("Mem.total")&&(C=["Mem.used.min","Mem.used.mean","Mem.used.max","Mem.total"]);const B={datasets:C.map(O=>({data:E.map(W=>{if(W[O])return{x:new Date(W.date),y:W[O]}}),label:O,borderColor:x[z++],borderWidth:A||Z==="bar"?0:void 0,fill:A?"origin":void 0,stack:O,backgroundColor:A?`#000091${9-2*z}${9-2*z}`:Z==="bar"?"#000091":void 0}))};return Z==="bar"&&C.forEach(O=>{B.datasets.push({data:E.map(W=>({x:new Date(W.date),y:100-W[O]})),label:`${O} (down)`,borderWidth:0,stack:O,backgroundColor:"#e1000f"})}),B}else{let z=Object.keys(E).sort((C,B)=>E[B]-E[C]);return{datasets:[{data:z.map(C=>E[C]),backgroundColor:x,borderWidth:0,label:_[q]}],labels:z.map(C=>se(C))}}},U=E=>Object.keys(E).filter(q=>q.length>1&&!["chien","t\xE9l\xE9phonie"].includes(q)).map(q=>({text:q,count:E[q]})),J={"80.87.226.10":"courdecassation.fr","185.24.185.49":"piste.gouv.fr"},se=E=>J[E]||E,Q={responsive:!0,maintainAspectRatio:!1,animation:{duration:0},interaction:{mode:"index"},hover:{intersect:!1},elements:{point:{radius:0},line:{tension:.15}}},le={"F-blue-soft":"#5770BE","N-orange-dark":"#E18863","E-green-soft":"#00AC8C","L-yellow-dark":"#FDCF41","Q-brown":"#A26859","J-pink-light":"#FFC29E","$blue-france":"#000091","$red-marianne":"#E1000F","A-green-warm":"#958B62","B-green-light":"#91AE4F","C-green-warm":"#169B62","G-blue-dark":"#484D7A","H-pink-soft":"#FF8D7E","I-pink-dark":"#D08A77","K-yellow-medium":"#FFE800","M-orange-medium":"#FF9940","O-orange-soft":"#FF6F4C","P-purple":"#7D4E5B"},x=Object.keys(le).map(E=>le[E]);function S(){l=lt(this),t(0,l),t(4,i)}function N(){s=lt(this),t(1,s),t(5,n)}return r.$$set=E=>{"since"in E&&t(0,l=E.since),"env"in E&&t(1,s=E.env)},r.$$.update=()=>{r.$$.dirty[0]&3&&(l||s)&&k()},[l,s,f,o,i,n,a,_,I,U,Q,S,N]}class Ml extends ae{constructor(e){super();oe(this,e,Ol,Vl,ce,{since:0,env:1},null,[-1,-1])}}_e.disable_scroll_handling;const St=_e.goto;_e.invalidate;_e.prefetch;_e.prefetch_routes;_e.before_navigate;_e.after_navigate;const jl=()=>{const r=$t("__svelte__");return{page:{subscribe:r.page.subscribe},navigating:{subscribe:r.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:r.navigating.subscribe}},session:r.session,updated:r.updated}},Al={subscribe(r){return jl().page.subscribe(r)}};function Fl(r){let e,t,l,s,i,n,c,a,_;function f(b){r[3](b)}function o(b){r[4](b)}let p={};return r[0]!==void 0&&(p.since=r[0]),r[1]!==void 0&&(p.env=r[1]),n=new Ml({props:p}),Ce.push(()=>rt(n,"since",f)),Ce.push(()=>rt(n,"env",o)),{c(){e=ee(),t=y("section"),l=y("div"),s=y("div"),i=y("div"),ue(n.$$.fragment),this.h()},l(b){xt('[data-svelte="svelte-9qr2em"]',document.head).forEach(u),e=te(b),t=w(b,"SECTION",{});var D=v(t);l=w(D,"DIV",{class:!0});var k=v(l);s=w(k,"DIV",{class:!0});var I=v(s);i=w(I,"DIV",{class:!0});var U=v(i);fe(n.$$.fragment,U),U.forEach(u),I.forEach(u),k.forEach(u),D.forEach(u),this.h()},h(){document.title="API Judilibre - statistiques",d(i,"class","fr-col-12 fr-mt-2w"),d(s,"class","fr-grid-row fr-grid-row--gutters fr-grid-row--center"),d(l,"class","fr-container")},m(b,V){j(b,e,V),j(b,t,V),g(t,l),g(l,s),g(s,i),de(n,i,null),_=!0},p(b,[V]){const D={};!c&&V&1&&(c=!0,D.since=b[0],st(()=>c=!1)),!a&&V&2&&(a=!0,D.env=b[1],st(()=>a=!1)),n.$set(D)},i(b){_||(R(n.$$.fragment,b),_=!0)},o(b){K(n.$$.fragment,b),_=!1},d(b){b&&u(e),b&&u(t),he(n)}}}const zl=!1;async function Bl({page:r}){const e={};return e.since=r.query.get("since")||je,e.env=r.query.get("env")||Ae,{props:e}}function Pl(r,e,t){let l;el(r,Al,a=>t(2,l=a));let{since:s}=e,{env:i}=e;function n(a){s=a,t(0,s)}function c(a){i=a,t(1,i)}return r.$$set=a=>{"since"in a&&t(0,s=a.since),"env"in a&&t(1,i=a.env)},r.$$.update=()=>{r.$$.dirty&5&&s&&(s!==je?l.query.set("since",s):l.query.delete("since"),St(l.query.toString()?`${l.path}?${l.query.toString()}`:`${l.path}`)),r.$$.dirty&6&&i&&(i!==Ae?l.query.set("env",i):l.query.delete("env"),St(l.query.toString()?`${l.path}?${l.query.toString()}`:`${l.path}`))},[s,i,l,n,c]}class Tl extends ae{constructor(e){super();oe(this,e,Pl,Fl,ce,{since:0,env:1})}}export{Tl as default,Bl as load,zl as prerender};
